var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t){let e;return i(t,(t=>e=t))(),e}function c(t,e,n){t.$$.on_destroy.push(i(e,n))}function u(t,e,n,r){if(t){const o=f(t,e,n,r);return t[0](o)}}function f(t,n,r,o){return t[1]&&o?e(r.ctx.slice(),t[1](o(n))):r.ctx}function d(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function p(t,e,n,r,o,s){if(o){const l=f(e,n,r,s);t.p(l,o)}}function b(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function h(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function $(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function E(){return k(" ")}function _(){return k("")}function L(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:P(t,r,e[r])}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function A(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let O;function T(t){O=t}function M(){if(!O)throw new Error("Function called outside component initialization");return O}function N(t){M().$$.on_destroy.push(t)}function I(){const t=M();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function j(t,e){M().$$.context.set(t,e)}function H(t){return M().$$.context.get(t)}const U=[],D=[],z=[],B=[],q=Promise.resolve();let F=!1;function J(){F||(F=!0,q.then(Z))}function K(){return J(),q}function X(t){z.push(t)}let W=!1;const Y=new Set;function Z(){if(!W){W=!0;do{for(let t=0;t<U.length;t+=1){const e=U[t];T(e),V(e.$$)}for(T(null),U.length=0;D.length;)D.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];Y.has(e)||(Y.add(e),e())}z.length=0}while(U.length);for(;B.length;)B.pop()();F=!1,W=!1,Y.clear()}}function V(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}const G=new Set;let Q;function tt(){Q={r:0,c:[],p:Q}}function et(){Q.r||o(Q.c),Q=Q.p}function nt(t,e){t&&t.i&&(G.delete(t),t.i(e))}function rt(t,e,n,r){if(t&&t.o){if(G.has(t))return;G.add(t),Q.c.push((()=>{G.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function ot(t,e){const n={},r={},o={$$scope:1};let s=t.length;for(;s--;){const l=t[s],i=e[s];if(i){for(const t in l)t in i||(r[t]=1);for(const t in i)o[t]||(n[t]=i[t],o[t]=1);t[s]=i}else for(const t in l)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function st(t){return"object"==typeof t&&null!==t?t:{}}function lt(t){t&&t.c()}function it(t,e,r,l){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=t.$$;i&&i.m(e,r),l||X((()=>{const e=a.map(n).filter(s);c?c.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(X)}function at(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(e,n,s,l,i,a,c,u=[-1]){const f=O;T(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};c&&c(d.root);let p=!1;if(d.ctx=s?s(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&function(t,e){-1===t.$$.dirty[0]&&(U.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(y)}else d.fragment&&d.fragment.c();n.intro&&nt(e.$$.fragment),it(e,n.target,n.anchor,n.customElement),Z()}T(f)}class ut{$destroy(){at(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft=t=>void 0===t,dt=t=>"function"==typeof t,pt=t=>"number"==typeof t;function bt(){let t=0;return()=>t++}const ht="undefined"==typeof window;function $t(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const mt=[];function gt(e,n=t){let r;const o=new Set;function s(t){if(l(e,t)&&(e=t,r)){const t=!mt.length;for(const t of o)t[1](),mt.push(t,e);if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(l,i=t){const a=[l,i];return o.add(a),1===o.size&&(r=n(s)||t),l(e),()=>{o.delete(a),0===o.size&&(r(),r=null)}}}}function yt(e,n,r){const l=!Array.isArray(e),a=l?[e]:e,c=n.length<2;return u=e=>{let r=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const r=n(l?u[0]:u,e);c?e(r):d=s(r)?r:t},b=a.map(((t,e)=>i(t,(t=>{u[e]=t,f&=~(1<<e),r&&p()}),(()=>{f|=1<<e}))));return r=!0,p(),function(){o(b),d()}},{subscribe:gt(r,u).subscribe};var u}const xt=t=>`@@svnav-ctx__${t}`,vt=xt("LOCATION"),wt=xt("ROUTER"),kt=xt("ROUTE"),Et=xt("ROUTE_PARAMS"),_t=xt("FOCUS_ELEM"),Lt=/^:(.+)/,Pt=(t,e)=>t.substr(0,e.length)===e,St=t=>"*"===t[0],Ct=t=>t.replace(/(^\/+|\/+$)/g,"");function Rt(t,e=!1){const n=Ct(t).split("/");return e?n.filter(Boolean):n}const At=(t,e)=>t+(e?`?${e}`:""),Ot=t=>`/${Ct(t)}`;function Tt(...t){const e=t.map((t=>Rt(t,!0).join("/"))).join("/");return Ot(e)}const Mt={1:"Link",2:"Route",3:"Router",4:"useFocus",5:"useLocation",6:"useMatch",7:"useNavigate",8:"useParams",9:"useResolvable",10:"useResolve",11:"navigate"},Nt=t=>Mt[t];function It(t,e,n,r){const o=n&&function(t,e){let n;return 2===t?n=e.path?`path="${e.path}"`:"default":1===t?n=`to="${e.to}"`:3===t&&(n=`basepath="${e.basepath||""}"`),`<${Nt(t)} ${n||""} />`}(r||t,n),s=o?`\n\nOccurred in: ${o}`:"",l=Nt(t);return`<${l}> ${dt(e)?e(l):e}${s}`}const jt=t=>(...e)=>t(It(...e)),Ht=jt((t=>{throw new Error(t)})),Ut=jt(console.warn);function Dt(t,e){return{route:t,score:t.default?0:Rt(t.fullPath).reduce(((t,e)=>{let n=t;return n+=4,(t=>""===t)(e)?n+=1:(t=>Lt.test(t))(e)?n+=2:St(e)?n-=5:n+=3,n}),0),index:e}}function zt(t,e){let n,r;const[o]=e.split("?"),s=Rt(o),l=""===s[0],i=function(t){return t.map(Dt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,o=i.length;t<o;t++){const{route:o}=i[t];let a=!1;const c={},u=t=>({...o,params:c,uri:t});if(o.default){r=u(e);continue}const f=Rt(o.fullPath),d=Math.max(s.length,f.length);let p=0;for(;p<d;p++){const t=f[p],e=s[p];if(!ft(t)&&St(t)){const e="*"===t?"*":t.slice(1);c[e]=s.slice(p).map(decodeURIComponent).join("/");break}if(ft(e)){a=!0;break}const n=Lt.exec(t);if(n&&!l){const t=decodeURIComponent(e);c[n[1]]=t}else if(t!==e){a=!0;break}}if(!a){n=u(Tt(...s.slice(0,p)));break}}return n||r||null}function Bt(t,e){return zt([t],e)}function qt(t,e){const{pathname:n,hash:r="",search:o="",state:s}=t,l=Rt(e,!0),i=Rt(n,!0);for(;l.length;)l[0]!==i[0]&&Ht(3,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),l.shift(),i.shift();return{pathname:Tt(...i),hash:r,search:o,state:s}}const Ft=t=>1===t.length?"":t;function Jt(t){const e=t.indexOf("?"),n=t.indexOf("#"),r=-1!==e,o=-1!==n,s=o?Ft(t.substr(n)):"",l=o?t.substr(0,n):t,i=r?Ft(l.substr(e)):"";return{pathname:r?l.substr(0,e):l,search:i,hash:s}}function Kt(t,e,n){return Tt(n,function(t,e){if(Pt(t,"/"))return t;const[n,r]=t.split("?"),[o]=e.split("?"),s=Rt(n),l=Rt(o);if(""===s[0])return At(o,r);if(!Pt(s[0],".")){const t=l.concat(s).join("/");return At(("/"===o?"":"/")+t,r)}const i=l.concat(s),a=[];return i.forEach((t=>{".."===t?a.pop():"."!==t&&a.push(t)})),At(`/${a.join("/")}`,r)}(t,e))}function Xt(t,e){const n=Ot(t.replace(/\*.*$/,""));const r=Rt(n,!0),o=Bt({fullPath:n},Tt(...Rt(e,!0).slice(0,r.length)));return o&&o.uri}const Wt="POP";function Yt(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function Zt(t,e){return{...Jt(e),state:t}}const Vt=!(ht||!window.document||!window.document.createElement),Gt=!ht&&"null"===window.location.origin,Qt=function(t){let e=[],n=Yt(t),r=Wt;const o=(t=e)=>t.forEach((t=>t({location:n,action:r})));return{get location(){return n},listen(s){e.push(s);o([s]);const l=$t(t,"popstate",(()=>{n=Yt(t),r=Wt,o([s])}));return()=>{l(),e=e.filter((t=>t!==s))}},navigate(e,s){const{state:l={},replace:i=!1}=s||{};if(r=i?"REPLACE":"PUSH",pt(e))s&&Ut(11,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),r=Wt,t.history.go(e);else{const n={...l,_key:Math.random().toString(36).substring(2)};try{t.history[i?"replaceState":"pushState"](n,"",e)}catch(n){t.location[i?"replace":"assign"](e)}}n=Yt(t),o()}}}(Vt&&!Gt?window:function(t="/"){let e=0,n=[Zt(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(t,r,o){e++,n=n.slice(0,e),n.push(Zt(t,o))},replaceState(t,r,o){n[e]=Zt(t,o)},go(t){const r=e+t;r<0||r>n.length-1||(e=r)}}}}());let te=null,ee=!0;function ne(t){(!te||t.level>te.level||t.level===te.level&&function(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let r=0;r<n.length;r++){const o=n[r],s=Number(o.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}(t.routerId,te.routerId))&&(te=t)}function re(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){let n;t.setAttribute(e,"-1");const r=()=>{t.removeAttribute(e),n()};n=$t(t,"blur",r)}return t.focus(),document.activeElement===t}catch(t){return!1}}function oe(t,e){return Number(t.dataset.svnavRouteEnd)===e}function se(t,e=document){return e.querySelector(t)}function le(t){Promise.resolve(a(t.focusElement)).then((e=>{const n=e||function(t){let e=se(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!oe(e,t);){if(/^H[1-6]$/i.test(e.tagName))return e;const t=se("h1,h2,h3,h4,h5,h6",e);if(t)return t;e=e.nextElementSibling}return null}(t.id);n||Ut(3,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',t,2);re(n)||re(document.documentElement)}))}const ie=(t,e,n)=>(r,o)=>K().then((()=>{if(te&&!ee){if(r&&le(te.route),t.announcements&&o){const{path:r,fullPath:o,meta:s,params:l,uri:i}=te.route,c=t.createAnnouncement({path:r,fullPath:o,meta:s,params:l,uri:i},a(n));Promise.resolve(c).then((t=>{e.set(t)}))}te=null}else ee=!1}));function ae(t){let e,n,r,o,s;const l=t[20].default,i=u(l,t,t[19],null);let a=t[2]&&t[4]&&t[1].announcements&&function(t){let e,n;return{c(){e=v("div"),n=k(t[0]),P(e,"role","status"),P(e,"aria-atomic","true"),P(e,"aria-live","polite"),P(e,"style","position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;")},m(t,r){g(t,e,r),m(e,n)},p(t,e){1&e[0]&&C(n,t[0])},d(t){t&&y(e)}}}(t);return{c(){e=v("div"),n=E(),i&&i.c(),r=E(),a&&a.c(),o=_(),A(e,"display","none"),P(e,"aria-hidden","true"),P(e,"data-svnav-router",t[3])},m(t,l){g(t,e,l),g(t,n,l),i&&i.m(t,l),g(t,r,l),a&&a.m(t,l),g(t,o,l),s=!0},p(t,e){i&&i.p&&(!s||524288&e[0])&&p(i,l,t,t[19],s?d(l,t[19],e,null):b(t[19]),null),t[2]&&t[4]&&t[1].announcements&&a.p(t,e)},i(t){s||(nt(i,t),s=!0)},o(t){rt(i,t),s=!1},d(t){t&&y(e),t&&y(n),i&&i.d(t),t&&y(r),a&&a.d(t),t&&y(o)}}}const ce=bt(),ue="/";function fe(t,e,n){let r,o,s,l,i,{$$slots:a={},$$scope:u}=e,{basepath:f=ue}=e,{url:d=null}=e,{history:p=Qt}=e,{primary:b=!0}=e,{a11y:h={}}=e;const $={createAnnouncement:t=>`Navigated to ${t.uri}`,announcements:!0,...h},m=f,g=Ot(f),y=H(vt),x=H(wt),v=!y,w=ce(),k=b&&!(x&&!x.manageFocus),E=gt("");c(t,E,(t=>n(0,i=t)));const _=gt([]);c(t,_,(t=>n(18,l=t)));const L=gt(null);c(t,L,(t=>n(16,o=t)));let P=!1;const S=v?0:x.level+1,C=v?gt(qt(ht?Jt(d):p.location,g)):y;c(t,C,(t=>n(15,r=t)));const R=gt(r);c(t,R,(t=>n(17,s=t)));const A=ie($,E,C),O=t=>e=>e.filter((e=>e.id!==t));var T;return v||f===ue||Ut(3,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:f}),v&&(T=()=>p.listen((t=>{const e=qt(t.location,g);R.set(r),C.set(e)})),M().$$.on_mount.push(T),j(vt,C)),j(wt,{activeRoute:L,registerRoute:function(t){if(ht){if(P)return;const e=Bt(t,r.pathname);if(e)return P=!0,e}else _.update((e=>{const n=O(t.id)(e);return n.push(t),n}))},unregisterRoute:function(t){_.update(O(t))},manageFocus:k,level:S,id:w,history:v?p:x.history,basepath:v?g:x.basepath}),t.$$set=t=>{"basepath"in t&&n(10,f=t.basepath),"url"in t&&n(11,d=t.url),"history"in t&&n(12,p=t.history),"primary"in t&&n(13,b=t.primary),"a11y"in t&&n(14,h=t.a11y),"$$scope"in t&&n(19,u=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&f!==m&&Ut(3,'You cannot change the "basepath" prop. It is ignored.'),294912&t.$$.dirty[0]){const t=zt(l,r.pathname);L.set(t)}if(163840&t.$$.dirty[0]&&v){const t=!!r.hash,e=!t&&k,n=!t||r.pathname!==s.pathname;A(e,n)}65536&t.$$.dirty[0]&&k&&o&&o.primary&&ne({level:S,routerId:w,route:o})},[i,$,v,w,k,E,_,L,C,R,f,d,p,b,h,r,o,s,l,u,a]}var de=class extends ut{constructor(t){super(),ct(this,t,fe,ae,l,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}};function pe(t,e,n=wt,r=3){H(n)||Ht(t,(t=>`You cannot use ${t} outside of a ${Nt(r)}.`),e)}const be=t=>{const{subscribe:e}=H(t);return{subscribe:e}};function he(){return pe(5),be(vt)}function $e(){const{history:t}=H(wt);return t}function me(){const t=H(kt);return t?yt(t,(t=>t.base)):gt("/")}function ge(){pe(10);const t=me(),{basepath:e}=H(wt);return n=>Kt(n,a(t),e)}function ye(){pe(7);const t=ge(),{navigate:e}=$e();return(n,r)=>{const o=pt(n)?n:t(n);return e(o,r)}}function xe(){return pe(8,null,kt,2),be(Et)}const ve=t=>({params:16&t,location:8&t}),we=t=>({params:ht?a(t[9]):t[4],location:t[3],navigate:t[10]});function ke(t){let e,n;return e=new de({props:{primary:t[1],$$slots:{default:[Le]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.primary=t[1]),264217&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Ee(t){let e;const n=t[17].default,r=u(n,t,t[18],we);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,o){r&&r.p&&(!e||262168&o)&&p(r,n,t,t[18],e?d(n,t[18],o,ve):b(t[18]),we)},i(t){e||(nt(r,t),e=!0)},o(t){rt(r,t),e=!1},d(t){r&&r.d(t)}}}function _e(t){let n,r,o;const s=[{location:t[3]},{navigate:t[10]},ht?a(t[9]):t[4],t[11]];var l=t[0];function i(t){let n={};for(let t=0;t<s.length;t+=1)n=e(n,s[t]);return{props:n}}return l&&(n=new l(i())),{c(){n&&lt(n.$$.fragment),r=_()},m(t,e){n&&it(n,t,e),g(t,r,e),o=!0},p(t,e){const o=3608&e?ot(s,[8&e&&{location:t[3]},1024&e&&{navigate:t[10]},528&e&&st(ht?a(t[9]):t[4]),2048&e&&st(t[11])]):{};if(l!==(l=t[0])){if(n){tt();const t=n;rt(t.$$.fragment,1,0,(()=>{at(t,1)})),et()}l?(n=new l(i()),lt(n.$$.fragment),nt(n.$$.fragment,1),it(n,r.parentNode,r)):n=null}else l&&n.$set(o)},i(t){o||(n&&nt(n.$$.fragment,t),o=!0)},o(t){n&&rt(n.$$.fragment,t),o=!1},d(t){t&&y(r),n&&at(n,t)}}}function Le(t){let e,n,r,o;const s=[_e,Ee],l=[];function i(t,e){return null!==t[0]?0:1}return e=i(t),n=l[e]=s[e](t),{c(){n.c(),r=_()},m(t,n){l[e].m(t,n),g(t,r,n),o=!0},p(t,o){let a=e;e=i(t),e===a?l[e].p(t,o):(tt(),rt(l[a],1,1,(()=>{l[a]=null})),et(),n=l[e],n?n.p(t,o):(n=l[e]=s[e](t),n.c()),nt(n,1),n.m(r.parentNode,r))},i(t){o||(nt(n),o=!0)},o(t){rt(n),o=!1},d(t){l[e].d(t),t&&y(r)}}}function Pe(t){let e,n,r,o,s,l=t[2]&&ke(t);return{c(){e=v("div"),n=E(),l&&l.c(),r=E(),o=v("div"),A(e,"display","none"),P(e,"aria-hidden","true"),P(e,"data-svnav-route-start",t[5]),A(o,"display","none"),P(o,"aria-hidden","true"),P(o,"data-svnav-route-end",t[5])},m(t,i){g(t,e,i),g(t,n,i),l&&l.m(t,i),g(t,r,i),g(t,o,i),s=!0},p(t,[e]){t[2]?l?(l.p(t,e),4&e&&nt(l,1)):(l=ke(t),l.c(),nt(l,1),l.m(r.parentNode,r)):l&&(tt(),rt(l,1,1,(()=>{l=null})),et())},i(t){s||(nt(l),s=!0)},o(t){rt(l),s=!1},d(t){t&&y(e),t&&y(n),l&&l.d(t),t&&y(r),t&&y(o)}}}const Se=bt();function Ce(t,n,r){let o;const s=["path","component","meta","primary"];let l,i,a,u,f=$(n,s),{$$slots:d={},$$scope:p}=n,{path:b=""}=n,{component:m=null}=n,{meta:g={}}=n,{primary:y=!0}=n;pe(2,n);const x=Se(),{registerRoute:v,unregisterRoute:w,activeRoute:k}=H(wt);c(t,k,(t=>r(15,l=t)));const E=me();c(t,E,(t=>r(16,a=t)));const _=he();c(t,_,(t=>r(3,i=t)));const L=gt(null);let P;const S=gt(),C=gt({});c(t,C,(t=>r(4,u=t))),j(kt,S),j(Et,C),j(_t,L);const R=ye();return ht||N((()=>w(x))),t.$$set=t=>{r(23,n=e(e({},n),h(t))),r(11,f=$(n,s)),"path"in t&&r(12,b=t.path),"component"in t&&r(0,m=t.component),"meta"in t&&r(13,g=t.meta),"primary"in t&&r(1,y=t.primary),"$$scope"in t&&r(18,p=t.$$scope)},t.$$.update=()=>{if(77834&t.$$.dirty){const t=""===b,e=Tt(a,b),n={id:x,path:b,meta:g,default:t,fullPath:t?"":e,base:t?a:Xt(e,i.pathname),primary:y,focusElement:L};S.set(n),r(14,P=v(n))}if(49152&t.$$.dirty&&r(2,o=!!(P||l&&l.id===x)),49156&t.$$.dirty&&o){const{params:t}=P||l;C.set(t)}},n=h(n),[m,y,o,i,u,x,k,E,_,C,R,f,b,g,P,l,a,d,p]}var Re=class extends ut{constructor(t){super(),ct(this,t,Ce,Pe,l,{path:12,component:0,meta:13,primary:1})}};function Ae(t){let n,r,o,s;const l=t[13].default,i=u(l,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],c={};for(let t=0;t<a.length;t+=1)c=e(c,a[t]);return{c(){n=v("a"),i&&i.c(),S(n,c)},m(e,l){g(e,n,l),i&&i.m(n,null),r=!0,o||(s=L(n,"click",t[4]),o=!0)},p(t,[e]){i&&i.p&&(!r||4096&e)&&p(i,l,t,t[12],r?d(l,t[12],e,null):b(t[12]),null),S(n,c=ot(a,[(!r||1&e)&&{href:t[0]},4&e&&t[2],2&e&&t[1]]))},i(t){r||(nt(i,t),r=!0)},o(t){rt(i,t),r=!1},d(t){t&&y(n),i&&i.d(t),o=!1,s()}}}function Oe(t,n,r){let o,s,l,i,a;const u=["to","replace","state","getProps"];let f,d=$(n,u),{$$slots:p={},$$scope:b}=n,{to:m}=n,{replace:g=!1}=n,{state:y={}}=n,{getProps:x=null}=n;pe(1,n);const v=he();c(t,v,(t=>r(11,f=t)));const w=I(),k=ge(),{navigate:E}=$e();return t.$$set=t=>{r(18,n=e(e({},n),h(t))),r(17,d=$(n,u)),"to"in t&&r(5,m=t.to),"replace"in t&&r(6,g=t.replace),"state"in t&&r(7,y=t.state),"getProps"in t&&r(8,x=t.getProps),"$$scope"in t&&r(12,b=t.$$scope)},t.$$.update=()=>{2080&t.$$.dirty&&r(0,o=k(m,f)),2049&t.$$.dirty&&r(10,s=Pt(f.pathname,o)),2049&t.$$.dirty&&r(9,l=o===f.pathname),512&t.$$.dirty&&r(2,i=l?{"aria-current":"page"}:{}),r(1,a=(()=>{if(dt(x)){const t=x({location:f,href:o,isPartiallyCurrent:s,isCurrent:l});return{...d,...t}}return d})())},n=h(n),[o,a,i,v,function(t){if(w("click",t),function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)){t.preventDefault();E(o,{state:y,replace:l||g})}},m,g,y,x,l,s,f,b,p]}var Te=class extends ut{constructor(t){super(),ct(this,t,Oe,Ae,l,{to:5,replace:6,state:7,getProps:8})}};function Me(t,e){!function(t,e,n){let r={};const o=t.getItem("digi_edit:storage");o&&(r=JSON.parse(o));const s=e.split(".");let l=r;for(let t=0;t<s.length;t++){const e=s[t];t===s.length-1?l[e]=n:(l[e]||(l[e]={}),l=l[e])}t.setItem("digi_edit:storage",JSON.stringify(r))}(sessionStorage,t,e)}const Ne=gt(""),Ie=yt(Ne,(t=>""!==t)),je=yt(Ne,(async t=>{if(""!==t){401===(await fetch("/api/branches",{headers:{"X-Authorization":t}})).status&&Ne.set("")}return!0})),He=function(t,e,n){const r=t.getItem("digi_edit:storage");if(r){const t=JSON.parse(r),o=e.split(".");let s=t;for(let t=0;t<o.length;t++){const e=o[t];if(t===o.length-1)return void 0!==s[e]?s[e]:n;if(!s[e])return n;s=s[e]}}return n}(sessionStorage,"auth",null);async function Ue(t,e){let n="/api/"+t;e&&(n+="?",n+=e);const r=await fetch(n,{headers:{"X-Authorization":a(Ne)}});return 200===r.status?(await r.json()).data:[]}He&&Ne.set(He.id+" "+He.token);const De=gt([]),ze=yt(De,(t=>t.filter((t=>"active"===t.attributes.status))));const Be=gt([]);const qe=gt(null);function Fe(e){let n,r,o,s,l;return{c(){n=v("div"),r=v("nav"),r.innerHTML='<ul class="flex flex-row"><li><button>Save</button></li> \n            <li><button>Discard</button></li></ul>',o=E(),s=v("div"),l=k(e[0]),P(r,"class","flex-none"),P(s,"class","flex-auto"),P(n,"class","flex flex-col")},m(t,e){g(t,n,e),m(n,r),m(n,o),m(n,s),m(s,l)},p(t,[e]){1&e&&C(l,t[0])},i:t,o:t,d(t){t&&y(n)}}}function Je(t,e,n){let{text:r}=e;return t.$$set=t=>{"text"in t&&n(0,r=t.text)},[r]}class Ke extends ut{constructor(t){super(),ct(this,t,Je,Fe,l,{text:0})}}function Xe(t){let e,n,r="tei"===t[0].attributes.mode&&We(t);return{c(){r&&r.c(),e=_()},m(t,o){r&&r.m(t,o),g(t,e,o),n=!0},p(t,n){"tei"===t[0].attributes.mode?r?(r.p(t,n),1&n&&nt(r,1)):(r=We(t),r.c(),nt(r,1),r.m(e.parentNode,e)):r&&(tt(),rt(r,1,1,(()=>{r=null})),et())},i(t){n||(nt(r),n=!0)},o(t){rt(r),n=!1},d(t){r&&r.d(t),t&&y(e)}}}function We(t){let e,n;return e=new Ke({props:{text:t[0].attributes.rawData}}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.text=t[0].attributes.rawData),e.$set(r)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Ye(t){let e,n,r=t[0]&&Xe(t);return{c(){e=v("div"),r&&r.c(),P(e,"class","flex-auto overflow-hidden")},m(t,o){g(t,e,o),r&&r.m(e,null),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&nt(r,1)):(r=Xe(t),r.c(),nt(r,1),r.m(e,null)):r&&(tt(),rt(r,1,1,(()=>{r=null})),et())},i(t){n||(nt(r),n=!0)},o(t){rt(r),n=!1},d(t){t&&y(e),r&&r.d()}}}function Ze(t,e,n){let r;c(t,qe,(t=>n(0,r=t)));const o=xe();let s=null;return N(o.subscribe((t=>{s!==t.fid&&(!async function(t){const e=await fetch("/api/files/"+t,{headers:{"X-Authorization":a(Ne),"X-Include-Data":"true"}});200===e.status?qe.set((await e.json()).data):qe.set(null)}(t.fid),s=t.fid)}))),[r]}class Ve extends ut{constructor(t){super(),ct(this,t,Ze,Ye,l,{})}}function Ge(t,e,n){const r=t.slice();return r[10]=e[n],r}function Qe(t,e,n){const r=t.slice();return r[13]=e[n],r}function tn(t){let e,n=t[13].attributes.name+"";return{c(){e=k(n)},m(t,n){g(t,e,n)},p(t,r){2&r&&n!==(n=t[13].attributes.name+"")&&C(e,n)},d(t){t&&y(e)}}}function en(t){let e,n,r;return n=new Te({props:{to:t[13].id,class:"block px-2 py-1 text-sm "+(t[2]===t[13].id?"text-blue-700":""),$$slots:{default:[tn]},$$scope:{ctx:t}}}),{c(){e=v("li"),lt(n.$$.fragment)},m(t,o){g(t,e,o),it(n,e,null),r=!0},p(t,e){const r={};2&e&&(r.to=t[13].id),6&e&&(r.class="block px-2 py-1 text-sm "+(t[2]===t[13].id?"text-blue-700":"")),65538&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(nt(n.$$.fragment,t),r=!0)},o(t){rt(n.$$.fragment,t),r=!1},d(t){t&&y(e),at(n)}}}function nn(t){let e,n,r,o,s,l,i,a=t[10].name+"",c=t[10].files,u=[];for(let e=0;e<c.length;e+=1)u[e]=en(Qe(t,c,e));const f=t=>rt(u[t],1,1,(()=>{u[t]=null}));return{c(){e=v("li"),n=v("span"),r=k(a),o=E(),s=v("ol");for(let t=0;t<u.length;t+=1)u[t].c();l=E(),P(n,"class","block px-2 py-1 text-sm bg-gray-100")},m(t,a){g(t,e,a),m(e,n),m(n,r),m(e,o),m(e,s);for(let t=0;t<u.length;t+=1)u[t].m(s,null);m(e,l),i=!0},p(t,e){if((!i||2&e)&&a!==(a=t[10].name+"")&&C(r,a),6&e){let n;for(c=t[10].files,n=0;n<c.length;n+=1){const r=Qe(t,c,n);u[n]?(u[n].p(r,e),nt(u[n],1)):(u[n]=en(r),u[n].c(),nt(u[n],1),u[n].m(s,null))}for(tt(),n=c.length;n<u.length;n+=1)f(n);et()}},i(t){if(!i){for(let t=0;t<c.length;t+=1)nt(u[t]);i=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)rt(u[t]);i=!1},d(t){t&&y(e),x(u,t)}}}function rn(t){let e;return{c(){e=v("div"),e.innerHTML='<div class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-gray-700">Please select the file you wish to work on from the list on the left</div>',P(e,"class","flex-auto relative")},m(t,n){g(t,e,n)},d(t){t&&y(e)}}}function on(t){let e,n;return e=new Ve({}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function sn(t){let e,n,r,s,l,i,a,c,u,f,d,p,b,h,$,w,k,_,S,C,A=t[1],O=[];for(let e=0;e<A.length;e+=1)O[e]=nn(Ge(t,A,e));const T=t=>rt(O[t],1,1,(()=>{O[t]=null}));return $=new Re({props:{path:"/",$$slots:{default:[rn]},$$scope:{ctx:t}}}),k=new Re({props:{path:"/:fid",$$slots:{default:[on]},$$scope:{ctx:t}}}),{c(){e=v("div"),n=v("h2"),n.textContent="Task Editor",r=E(),s=v("div"),l=v("form"),i=v("label"),a=v("span"),a.textContent="Search files",c=E(),u=v("input"),f=E(),d=v("button"),d.innerHTML='<svg viewBox="0 0 24 24" class="w-4 h-4"><path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg>',p=E(),b=v("ol");for(let t=0;t<O.length;t+=1)O[t].c();h=E(),lt($.$$.fragment),w=E(),lt(k.$$.fragment),P(n,"class","sr-only"),P(a,"class","sr-only"),P(u,"type","search"),P(u,"class","blockblock py-1 pl-2 pr-8 border border-solid border-gray-300 w-full text-base focus:shadow-inner"),P(d,"class","block absolute right-0 top-1/2 p-2 transform -translate-y-1/2"),P(l,"class","flex-none relative"),P(b,"class","flex-auto overflow-auto"),P(s,"class","flex flex-col flex-none w-1/5 overflow-hidden border-r border-solid border-gray-300"),P(e,"class","flex-auto flex flex-row overflow-hidden")},m(o,y){g(o,e,y),m(e,n),m(e,r),m(e,s),m(s,l),m(l,i),m(i,a),m(i,c),m(i,u),R(u,t[0]),m(l,f),m(l,d),m(s,p),m(s,b);for(let t=0;t<O.length;t+=1)O[t].m(b,null);m(e,h),it($,e,null),m(e,w),it(k,e,null),_=!0,S||(C=[L(u,"input",t[6]),L(l,"submit",ln)],S=!0)},p(t,[e]){if(1&e&&R(u,t[0]),6&e){let n;for(A=t[1],n=0;n<A.length;n+=1){const r=Ge(t,A,n);O[n]?(O[n].p(r,e),nt(O[n],1)):(O[n]=nn(r),O[n].c(),nt(O[n],1),O[n].m(b,null))}for(tt(),n=A.length;n<O.length;n+=1)T(n);et()}const n={};65536&e&&(n.$$scope={dirty:e,ctx:t}),$.$set(n);const r={};65536&e&&(r.$$scope={dirty:e,ctx:t}),k.$set(r)},i(t){if(!_){for(let t=0;t<A.length;t+=1)nt(O[t]);nt($.$$.fragment,t),nt(k.$$.fragment,t),_=!0}},o(t){O=O.filter(Boolean);for(let t=0;t<O.length;t+=1)rt(O[t]);rt($.$$.fragment,t),rt(k.$$.fragment,t),_=!1},d(t){t&&y(e),x(O,t),at($),at(k),S=!1,o(C)}}}const ln=t=>{t.preventDefault()};function an(t,e,n){let r,o,s;const l=xe(),i=gt("");c(t,i,(t=>n(0,r=t)));let a=null;const u=yt(l,(t=>t["*"]));c(t,u,(t=>n(2,s=t)));const f=yt([Be,i],(([t,e])=>{const n=[];for(const r of t)""!==e&&r.attributes.path.indexOf(e)<0&&r.attributes.name.indexOf(e)<0||(0===n.length?n.push({name:r.attributes.path,files:[r]}):n[n.length-1].name===r.attributes.path?n[n.length-1].files.push(r):n.push({name:r.attributes.path,files:[r]}));return n}));c(t,f,(t=>n(1,o=t)));const d=l.subscribe((t=>{t.tid!==a&&(!async function(t){let e=await Ue("files","filter[branch_id]="+t);e=e.filter((t=>t.attributes.name.endsWith(".md")||t.attributes.name.endsWith(".rst")||t.attributes.name.endsWith(".tei"))),e.sort(((t,e)=>{if(t.attributes.path===e.attributes.path)return t.attributes.name===e.attributes.name?0:t.attributes.name>e.attributes.name?1:-1;{let n=t.attributes.path.split("/");"/"===t.attributes.path&&(n=[""]);let r=e.attributes.path.split("/");"/"===e.attributes.path&&(r=[""]);for(let t=0;t<Math.max(n.length,r.length);t++){if(t>=n.length)return-1;if(t>=r.length)return 1;if(n[t]<r[t])return-1;if(n[t]>r[t])return 1}return 0}})),Be.set(e)}(t.tid),a=t.tid)}));return N(d),[r,o,s,i,u,f,function(){r=this.value,i.set(r)}]}class cn extends ut{constructor(t){super(),ct(this,t,an,sn,l,{})}}function un(t,e,n){const r=t.slice();return r[10]=e[n],r}function fn(t){let e;return{c(){e=k("Editor")},m(t,n){g(t,e,n)},d(t){t&&y(e)}}}function dn(e){let n;return{c(){n=k("Please select the task to work on")},m(t,e){g(t,n,e)},p:t,d(t){t&&y(n)}}}function pn(t){let e,n=t[2].attributes.name+"";return{c(){e=k(n)},m(t,n){g(t,e,n)},p(t,r){4&r&&n!==(n=t[2].attributes.name+"")&&C(e,n)},d(t){t&&y(e)}}}function bn(t){let e,n,r=t[3],o=[];for(let e=0;e<r.length;e+=1)o[e]=$n(un(t,r,e));const s=t=>rt(o[t],1,1,(()=>{o[t]=null}));return{c(){e=v("ul");for(let t=0;t<o.length;t+=1)o[t].c();P(e,"class","absolute left-0 top-full w-full bg-white z-10 border-l border-b border-r border-solid border-gray-300 shadow max-h-64 overflow-auto")},m(r,s){g(r,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);t[6](e),n=!0},p(t,n){if(8&n){let l;for(r=t[3],l=0;l<r.length;l+=1){const s=un(t,r,l);o[l]?(o[l].p(s,n),nt(o[l],1)):(o[l]=$n(s),o[l].c(),nt(o[l],1),o[l].m(e,null))}for(tt(),l=r.length;l<o.length;l+=1)s(l);et()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)nt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)rt(o[t]);n=!1},d(n){n&&y(e),x(o,n),t[6](null)}}}function hn(t){let e,n=t[10].attributes.name+"";return{c(){e=k(n)},m(t,n){g(t,e,n)},p(t,r){8&r&&n!==(n=t[10].attributes.name+"")&&C(e,n)},d(t){t&&y(e)}}}function $n(t){let e,n,r,o;return n=new Te({props:{to:"/"+t[10].id,class:"block w-full text-left px-3 py-1 hover:text-blue-700 focus:text-blue-700",$$slots:{default:[hn]},$$scope:{ctx:t}}}),{c(){e=v("li"),lt(n.$$.fragment),r=E(),P(e,"role","presentation")},m(t,s){g(t,e,s),it(n,e,null),m(e,r),o=!0},p(t,e){const r={};8&e&&(r.to="/"+t[10].id),8200&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){o||(nt(n.$$.fragment,t),o=!0)},o(t){rt(n.$$.fragment,t),o=!1},d(t){t&&y(e),at(n)}}}function mn(t){let e;return{c(){e=v("li"),e.innerHTML='<button class="block px-3 py-1 border-b-2 border-solid border-gray-300 hover:border-blue-700 focus:border-blue-700 transition-colors">New Task</button>',P(e,"role","presentation")},m(t,n){g(t,e,n)},d(t){t&&y(e)}}}function gn(t){let e,n,r,o,s;return{c(){e=v("li"),e.innerHTML='<button class="block px-3 py-1 border-b-2 border-solid border-gray-300 hover:border-blue-700 focus:border-blue-700 transition-colors">Request Integration</button>',n=E(),r=v("li"),r.innerHTML='<button class="block px-3 py-1 border-b-2 border-solid border-gray-300 hover:border-blue-700 focus:border-blue-700 transition-colors">Update Primary Changes</button>',o=E(),s=v("li"),s.innerHTML='<button class="block px-3 py-1 border-b-2 border-solid border-gray-300 hover:border-blue-700 focus:border-blue-700 transition-colors">Delete</button>',P(e,"role","presentation"),P(r,"role","presentation"),P(s,"role","presentation")},m(t,l){g(t,e,l),g(t,n,l),g(t,r,l),g(t,o,l),g(t,s,l)},d(t){t&&y(e),t&&y(n),t&&y(r),t&&y(o),t&&y(s)}}}function yn(t){let e;return{c(){e=v("div"),e.innerHTML='<div class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-gray-700">Please select the task you wish to work on from the top menu or <button>create a new one</button></div>',P(e,"class","flex-auto relative")},m(t,n){g(t,e,n)},d(t){t&&y(e)}}}function xn(t){let e,n;return e=new cn({}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function vn(t){let e,n,r,o,s,l,i,a,c,u,f,d,p,b,h,$,x,k,_,S,C,R,A,O,T,M,N,I,j,H,U,D;function z(t,e){return t[2]?pn:dn}c=new Te({props:{to:"/",class:"block px-3 py-1 border-b-2 border-solid "+(t[2]?"border-gray-300":"border-blue-700")+" hover:border-blue-700 focus:border-blue-700 transition-colors",$$slots:{default:[fn]},$$scope:{ctx:t}}});let B=z(t),q=B(t),F=t[0]&&bn(t);function J(t,e){return t[2]?gn:mn}let K=J(t),X=K(t);return N=new Re({props:{path:"/",$$slots:{default:[yn]},$$scope:{ctx:t}}}),j=new Re({props:{path:":tid/*",$$slots:{default:[xn]},$$scope:{ctx:t}}}),{c(){e=v("div"),n=v("h1"),n.textContent="Editor",r=E(),o=v("nav"),s=v("ul"),l=v("li"),i=E(),a=v("li"),lt(c.$$.fragment),u=E(),f=v("li"),d=v("button"),p=v("span"),q.c(),b=E(),h=w("svg"),$=w("path"),k=E(),F&&F.c(),_=E(),X.c(),S=E(),C=v("li"),R=E(),A=v("li"),A.innerHTML='<button class="block px-3 py-1 border-b-2 border-solid border-gray-300 hover:border-blue-700 focus:border-blue-700 transition-colors">Log out</button>',O=E(),T=v("li"),M=E(),lt(N.$$.fragment),I=E(),lt(j.$$.fragment),P(n,"class","sr-only"),P(l,"role","presentation"),P(l,"class","border-b-2 border-gray-300 w-4"),P(a,"role","presentation"),P(p,"class","pr-2"),P($,"fill","currentColor"),P($,"d","M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"),P(h,"aria-hidden","true"),P(h,"viewBox","0 0 24 24"),P(h,"class","w-4 h-4"),P(d,"class",x="block flex flex-row items-center px-3 py-1 border-b-2 border-solid "+(t[2]?"border-blue-700":"border-gray-300")+" hover:border-blue-700 focus:border-blue-700 transition-colors"),P(f,"role","presentation"),P(f,"class","relative"),P(C,"role","presentation"),P(C,"class","flex-auto border-b-2 border-solid border-gray-300"),P(A,"role","presentation"),P(T,"role","presentation"),P(T,"class","border-b-2 border-solid border-gray-300 w-4"),P(s,"class","flex"),P(o,"class","flex-none"),P(e,"class","w-full h-full flex flex-col")},m(y,x){g(y,e,x),m(e,n),m(e,r),m(e,o),m(o,s),m(s,l),m(s,i),m(s,a),it(c,a,null),m(s,u),m(s,f),m(f,d),m(d,p),q.m(p,null),m(d,b),m(d,h),m(h,$),m(f,k),F&&F.m(f,null),m(s,_),X.m(s,null),m(s,S),m(s,C),m(s,R),m(s,A),m(s,O),m(s,T),m(e,M),it(N,e,null),m(e,I),it(j,e,null),H=!0,U||(D=L(d,"click",t[5]),U=!0)},p(t,[e]){const n={};4&e&&(n.class="block px-3 py-1 border-b-2 border-solid "+(t[2]?"border-gray-300":"border-blue-700")+" hover:border-blue-700 focus:border-blue-700 transition-colors"),8192&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n),B===(B=z(t))&&q?q.p(t,e):(q.d(1),q=B(t),q&&(q.c(),q.m(p,null))),(!H||4&e&&x!==(x="block flex flex-row items-center px-3 py-1 border-b-2 border-solid "+(t[2]?"border-blue-700":"border-gray-300")+" hover:border-blue-700 focus:border-blue-700 transition-colors"))&&P(d,"class",x),t[0]?F?(F.p(t,e),1&e&&nt(F,1)):(F=bn(t),F.c(),nt(F,1),F.m(f,null)):F&&(tt(),rt(F,1,1,(()=>{F=null})),et()),K!==(K=J(t))&&(X.d(1),X=K(t),X&&(X.c(),X.m(s,S)));const r={};8192&e&&(r.$$scope={dirty:e,ctx:t}),N.$set(r);const o={};8192&e&&(o.$$scope={dirty:e,ctx:t}),j.$set(o)},i(t){H||(nt(c.$$.fragment,t),nt(F),nt(N.$$.fragment,t),nt(j.$$.fragment,t),H=!0)},o(t){rt(c.$$.fragment,t),rt(F),rt(N.$$.fragment,t),rt(j.$$.fragment,t),H=!1},d(t){t&&y(e),at(c),q.d(),F&&F.d(),X.d(),at(N),at(j),U=!1,D()}}}function wn(t,e,n){let r,o;c(t,ze,(t=>n(3,o=t)));const s=he(),l=xe(),i=yt([ze,l],(([t,e])=>{let n=e["*"];n.indexOf("/")>=0&&(n=n.substring(0,n.indexOf("/")));const r=t.filter((t=>t.id===n));return 1===r.length?r[0]:null}));c(t,i,(t=>n(2,r=t)));let a=!1,u=null;return N(s.subscribe((t=>{n(0,a=!1)}))),async function(){De.set(await Ue("branches",""))}(),[a,u,r,o,i,async function(){n(0,a=!a),a&&(await K(),u&&u.querySelector("button")&&u.querySelector("button").focus())},function(t){D[t?"unshift":"push"]((()=>{u=t,n(1,u)}))}]}class kn extends ut{constructor(t){super(),ct(this,t,wn,vn,l,{})}}function En(t){let e,n;return{c(){e=v("span"),n=k(t[1]),P(e,"class","block px-2 py-1 text-sm text-white bg-red-600")},m(t,r){g(t,e,r),m(e,n)},p(t,e){2&e&&C(n,t[1])},d(t){t&&y(e)}}}function _n(t){let e,n;return{c(){e=v("span"),n=k(t[3]),P(e,"class","block px-2 py-1 text-sm text-white bg-red-600")},m(t,r){g(t,e,r),m(e,n)},p(t,e){8&e&&C(n,t[3])},d(t){t&&y(e)}}}function Ln(t){let e;return{c(){e=v("button"),e.textContent="Log in",P(e,"class","inline-block px-3 py-1 bg-blue-700 text-white hover:bg-blue-600 focus:bg-blue-600 transition-colors")},m(t,n){g(t,e,n)},d(t){t&&y(e)}}}function Pn(t){let e;return{c(){e=v("button"),e.textContent="Logging in",P(e,"class","inline-block px-3 py-1 bg-blue-700 text-white hover:bg-blue-600 focus:bg-blue-600 transition-colors")},m(t,n){g(t,e,n)},d(t){t&&y(e)}}}function Sn(e){let n,r,s,l,i,a,c,u,f,d,p,b,h,$,x,w,_,S,C,A=e[1]&&En(e),O=e[3]&&_n(e);function T(t,e){return t[4]?Pn:Ln}let M=T(e),N=M(e);return{c(){n=v("div"),r=v("h1"),r.textContent="Log in",s=E(),l=v("form"),i=v("label"),a=k("E-Mail Address\n            "),c=v("input"),f=E(),A&&A.c(),d=E(),p=v("label"),b=k("Password\n            "),h=v("input"),x=E(),O&&O.c(),w=E(),_=v("div"),N.c(),P(r,"class","px-4 py-2 bg-gray-300 font-bold text-lg"),P(c,"type","email"),P(c,"class",u="block px-1 py-1 border border-solid "+(e[1]?"border-red-600":"border-gray-300")+" w-full text-base focus:shadow-inner"),P(i,"class","block mb-3 text-sm"),P(h,"type","password"),P(h,"class",$="block px-1 py-1 border border-solid "+(e[3]?"border-red-600":"border-gray-300")+" w-full text-base focus:shadow-inner"),P(p,"class","block mb-3 text-sm"),P(_,"class","text-right"),P(l,"class","px-4 py-2"),P(n,"class","absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 border border-solid border-gray-300 shadow-lg w-96")},m(t,o){g(t,n,o),m(n,r),m(n,s),m(n,l),m(l,i),m(i,a),m(i,c),R(c,e[0]),m(i,f),A&&A.m(i,null),m(l,d),m(l,p),m(p,b),m(p,h),R(h,e[2]),m(p,x),O&&O.m(p,null),m(l,w),m(l,_),N.m(_,null),S||(C=[L(c,"input",e[6]),L(h,"input",e[7]),L(l,"submit",e[5])],S=!0)},p(t,[e]){2&e&&u!==(u="block px-1 py-1 border border-solid "+(t[1]?"border-red-600":"border-gray-300")+" w-full text-base focus:shadow-inner")&&P(c,"class",u),1&e&&c.value!==t[0]&&R(c,t[0]),t[1]?A?A.p(t,e):(A=En(t),A.c(),A.m(i,null)):A&&(A.d(1),A=null),8&e&&$!==($="block px-1 py-1 border border-solid "+(t[3]?"border-red-600":"border-gray-300")+" w-full text-base focus:shadow-inner")&&P(h,"class",$),4&e&&h.value!==t[2]&&R(h,t[2]),t[3]?O?O.p(t,e):(O=_n(t),O.c(),O.m(p,null)):O&&(O.d(1),O=null),M!==(M=T(t))&&(N.d(1),N=M(t),N&&(N.c(),N.m(_,null)))},i:t,o:t,d(t){t&&y(n),A&&A.d(),O&&O.d(),N.d(),S=!1,o(C)}}}function Cn(t,e,n){let r="",o="",s="",l="",i=!1;return[r,o,s,l,i,async function(t){if(t.preventDefault(),!i){n(4,i=!0),n(1,o=""),n(3,l="");try{const t=await fetch("/api/login",{method:"POST",body:JSON.stringify({data:{type:"users",attributes:{email:r,password:s}}})});if(200===t.status){const e=await t.json();Me("auth.id",e.data.id),Me("auth.token",e.data.attributes.token),Ne.set(e.data.id+" "+e.data.attributes.token)}else{const e=await t.json();if(e.errors)for(const t of e.errors)console.log(t),"/data/attributes/email"===t.source.pointer?n(1,o=t.title):"/data/attributes/password"===t.source.pointer&&n(3,l=t.title);else n(1,o="This e-mail is not registered or the password is invalid"),n(3,l="This e-mail is not registered or the password is invalid")}}catch(t){n(1,o="This e-mail is not registered or the password is invalid"),n(3,l="This e-mail is not registered or the password is invalid")}n(4,i=!1)}},function(){r=this.value,n(0,r)},function(){s=this.value,n(2,s)}]}class Rn extends ut{constructor(t){super(),ct(this,t,Cn,Sn,l,{})}}function An(t){let e,n;return e=new kn({}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function On(t){let e,n;return e=new Rn({}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Tn(t){let e,n,r,o,s;return n=new Re({props:{path:"/*",$$slots:{default:[An]},$$scope:{ctx:t}}}),o=new Re({props:{path:"/login",$$slots:{default:[On]},$$scope:{ctx:t}}}),{c(){e=v("main"),lt(n.$$.fragment),r=E(),lt(o.$$.fragment),P(e,"class","w-screen h-screen")},m(t,l){g(t,e,l),it(n,e,null),m(e,r),it(o,e,null),s=!0},p(t,[e]){const r={};8&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const s={};8&e&&(s.$$scope={dirty:e,ctx:t}),o.$set(s)},i(t){s||(nt(n.$$.fragment,t),nt(o.$$.fragment,t),s=!0)},o(t){rt(n.$$.fragment,t),rt(o.$$.fragment,t),s=!1},d(t){t&&y(e),at(n),at(o)}}}function Mn(t){const e=ye(),n=he();return N(Ie.subscribe((t=>{if(t){const t=a(n).pathname;e("/login"===t?"/":t)}else e("/login")}))),[]}class Nn extends ut{constructor(t){super(),ct(this,t,Mn,Tn,l,{})}}function In(t){let e,n;return e=new Nn({}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function jn(t){let e,n,r=t[0]&&In();return{c(){r&&r.c(),e=_()},m(t,o){r&&r.m(t,o),g(t,e,o),n=!0},p(t,n){t[0]?r?1&n&&nt(r,1):(r=In(),r.c(),nt(r,1),r.m(e.parentNode,e)):r&&(tt(),rt(r,1,1,(()=>{r=null})),et())},i(t){n||(nt(r),n=!0)},o(t){rt(r),n=!1},d(t){r&&r.d(t),t&&y(e)}}}function Hn(t){let e,n;return e=new de({props:{basepath:"/ui",$$slots:{default:[jn]},$$scope:{ctx:t}}}),{c(){lt(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){at(e,t)}}}function Un(t,e,n){let r;return c(t,je,(t=>n(0,r=t))),[r]}return new class extends ut{constructor(t){super(),ct(this,t,Un,Hn,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
