{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/AriaMenubar.vue","webpack:///./src/components/AriaMenubar.vue?8172","webpack:///./src/components/AriaMenubar.vue?133a","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/views/EditionOverview.vue?ff09","webpack:///./src/components/AriaDialog.vue","webpack:///./src/components/AriaDialog.vue?4ee2","webpack:///./src/components/AriaDialog.vue?b750","webpack:///./src/views/EditionOverview.vue","webpack:///./src/views/EditionOverview.vue?0ed6","webpack:///./src/views/EditionOverview.vue?67a4","webpack:///./src/views/Login.vue?e550","webpack:///./src/storage.ts","webpack:///./src/store/index.ts","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?0a24","webpack:///./src/views/Login.vue?7b2b","webpack:///./src/views/BranchOverview.vue?1f20","webpack:///./src/views/BranchOverview.vue","webpack:///./src/views/BranchOverview.vue?f5a5","webpack:///./src/views/BranchOverview.vue?21ad","webpack:///./src/views/FileEditor.vue?67bf","webpack:///./src/components/TextEditor.vue?468f","webpack:///./src/components/TextEditor.vue","webpack:///./src/components/TextEditor.vue?c156","webpack:///./src/components/TextEditor.vue?0156","webpack:///./src/views/FileEditor.vue","webpack:///./src/views/FileEditor.vue?4c7a","webpack:///./src/views/FileEditor.vue?aaa7","webpack:///./src/router/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","$store","state","maxBusyCounter","domProps","completedBusyCounter","_e","staticClass","scopedSlots","_u","fn","ref","keyboardNav","_v","href","navigate","isExactActive","isActive","on","branch","id","_s","attributes","file","logOut","staticRenderFns","$scopedSlots","default","keyboardNavigation","mouseClickNav","mouseClickNavigation","ev","target","keyCode","next","findNextMenuitem","getParentMenubar","focus","parentElement","children","element","getAttribute","setAttribute","click","root","start","direction","stack","idx","current","pop","component","commit","$router","branches","$route","params","bid","files","fid","components","AriaMenubar","createBranch","directives","rawName","expression","$event","composing","newBranchName","toggleAddBranch","_l","status","deleteBranch","fancyDate","created","updated","merged","deleted","authors","join","intervalId","addBranch","addingBranch","setInterval","dispatch","clearInterval","preventDefault","type","alert","confirm","timestamp","date","Date","parts","getDate","getMonth","getFullYear","getHours","getMinutes","values","sort","a","b","dateA","dateB","title","AriaDialog","login","email","errors","password","storeValue","storage","path","obj","getItem","JSON","parse","pathElements","split","setItem","stringify","loadValue","defaultValue","undefined","sessionStoreValue","sessionStorage","sessionLoadValue","errorsToDict","response","reduce","error","pointer","source","use","Store","config","api","baseURL","configURL","userId","userToken","loggedIn","busy","busyCounter","mutations","setConfig","setConfigSection","payload","set","setUserId","setUserToken","setLoggedIn","setObject","deleteObject","delete","setBusy","setTimeout","actions","init","loadConfig","loadUser","loadBranches","promises","relationships","map","fileRef","Promise","all","loadBranch","forEach","loadFile","fetchAll","method","url","headers","objs","backgroundFetchAll","fetchSingle","backgroundFetchSingle","createSingle","saveSingle","deleteSingle","loginData","user","token","action","fileFilter","fileSet","rebase","pull_request","cancelIntegration","requestIntegration","rescan","review","body","changes","filename","fileFilterDebounce","fileFilterValue","clearTimeout","fileSets","indexOf","fileData","rawData","save","loadFileDataCallback","editorView","loadEditor","$emit","doc","toString","$refs","editorElement","startState","extensions","parent","text","loadState","setState","then","callback","TextEditor","TeiEditor","routes","router","base","productionTip","configElement","document","querySelector","innerHTML","store","render","h","$mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ui/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.$store.state.busy)?_c('div',{attrs:{\"id\":\"busy\"}},[_c('progress',{attrs:{\"max\":_vm.$store.state.maxBusyCounter},domProps:{\"value\":_vm.$store.state.completedBusyCounter}})]):_vm._e(),_c('nav',{staticClass:\"main\"},[_c('aria-menubar',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar keyboardNav = ref.keyboardNav;\nreturn [_c('ul',{attrs:{\"role\":\"menubar\"}},[_c('li',{attrs:{\"role\":\"presentation\"}},[_c('span',[_vm._v(\"Digital Edition Editor\")])]),(_vm.$store.state.loggedIn)?[_c('router-link',{attrs:{\"to\":\"/\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar href = ref.href;\nvar navigate = ref.navigate;\nvar isActive = ref.isActive;\nvar isExactActive = ref.isExactActive;\nreturn [_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"0\",\"href\":href,\"aria-current\":isExactActive ? 'true' : 'false'},on:{\"click\":navigate,\"keyup\":keyboardNav}},[_vm._v(\"Edition\")])])]}}],null,true)}),(_vm.branch)?_c('router-link',{attrs:{\"to\":'/branches/' + _vm.branch.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar href = ref.href;\nvar navigate = ref.navigate;\nvar isActive = ref.isActive;\nvar isExactActive = ref.isExactActive;\nreturn [_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"-1\",\"href\":href,\"aria-current\":isExactActive ? 'true' : 'false'},on:{\"click\":navigate,\"keyup\":keyboardNav}},[_vm._v(_vm._s(_vm.branch.attributes.name))])])]}}],null,true)}):_vm._e(),(_vm.file)?_c('router-link',{attrs:{\"to\":'/branches/' + _vm.branch.id + '/files/' + _vm.file.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar href = ref.href;\nvar navigate = ref.navigate;\nvar isActive = ref.isActive;\nvar isExactActive = ref.isExactActive;\nreturn [_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"-1\",\"href\":href,\"aria-current\":isExactActive ? 'true' : 'false'},on:{\"click\":navigate,\"keyup\":keyboardNav}},[_vm._v(_vm._s(_vm.file.attributes.name))])])]}}],null,true)}):_vm._e()]:_vm._e()],2)]}}])}),_c('aria-menubar',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar keyboardNav = ref.keyboardNav;\nreturn [_c('ul',{attrs:{\"role\":\"menubar\"}},[(_vm.$store.state.loggedIn)?_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"0\"},on:{\"click\":_vm.logOut}},[_vm._v(\"Sign out\")])]):_c('router-link',{attrs:{\"to\":\"/login\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar href = ref.href;\nvar navigate = ref.navigate;\nvar isActive = ref.isActive;\nvar isExactActive = ref.isExactActive;\nreturn [_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"0\",\"href\":href,\"aria-current\":isExactActive ? 'true' : 'false'},on:{\"click\":navigate,\"keyup\":keyboardNav}},[_vm._v(\"Sign in\")])])]}}],null,true)})],1)]}}])})],1),_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { VNode } from 'vue';\nimport { Component, Vue } from 'vue-property-decorator';\n\n\n@Component({\n})\nexport default class AriaMenubar extends Vue {\n    public render(): void | VNode[] {\n        if (this.$scopedSlots.default) {\n            return this.$scopedSlots.default({\n                keyboardNav: this.keyboardNavigation,\n                mouseClickNav: this.mouseClickNavigation,\n            });\n        }\n    }\n\n    public keyboardNavigation(ev: KeyboardEvent): void {\n        const target = ev.target as HTMLElement;\n        if (target) {\n            if (ev.keyCode === 39) {\n                const next = this.findNextMenuitem(this.getParentMenubar(target), target, 'next');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 37) {\n                const next = this.findNextMenuitem(this.getParentMenubar(target), target, 'previous');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 38 || ev.keyCode === 40) {\n                if (target.parentElement && target.parentElement.children) {\n                    for (const element of target.parentElement.children) {\n                        if (element.getAttribute('role') === 'menu') {\n                            element.setAttribute('aria-hidden', 'false');\n                            target.setAttribute('aria-expanded', 'true');\n                            const next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                            if (next) {\n                                next.focus();\n                            }\n                        }\n                    }\n                }\n            } else if (ev.keyCode === 13 || ev.keyCode == 32) {\n                if (target.parentElement && target.parentElement.children) {\n                    for (const element of target.parentElement.children) {\n                        if (element.getAttribute('role') === 'menu') {\n                            if (element.getAttribute('aria-hidden') === 'false') {\n                                element.setAttribute('aria-hidden', 'true');\n                                target.setAttribute('aria-expanded', 'false');\n                            } else {\n                                element.setAttribute('aria-hidden', 'false');\n                                target.setAttribute('aria-expanded', 'true');\n                                const next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                                if (next) {\n                                    next.focus();\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                    target.click();\n                }\n            }\n        }\n    }\n\n    public mouseClickNavigation(ev: MouseEvent): void {\n        const target = ev.target as HTMLElement;\n        if (target && target.parentElement && target.parentElement.children) {\n            for (const element of target.parentElement.children) {\n                if (element.getAttribute('role') === 'menu') {\n                    if (element.getAttribute('aria-hidden') === 'false') {\n                        element.setAttribute('aria-hidden', 'true');\n                        target.setAttribute('aria-expanded', 'false');\n                    } else {\n                        element.setAttribute('aria-hidden', 'false');\n                        target.setAttribute('aria-expanded', 'true');\n                        const next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                        if (next) {\n                            next.focus();\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected getParentMenubar(element: HTMLElement): HTMLElement | null {\n        if (!element) {\n            return null;\n        } else if (element.getAttribute('role') === 'menubar') {\n            return element;\n        } else {\n            return this.getParentMenubar(element.parentElement as HTMLElement);\n        }\n    }\n\n    protected findNextMenuitem(root: HTMLElement | null, start: HTMLElement | null, direction: string): HTMLElement | null {\n        if (!root) {\n            return null;\n        }\n        const stack = [] as HTMLElement[];\n        if (direction === 'next') {\n            for (let idx = root.children.length - 1; idx >= 0; idx--) {\n                stack.push(root.children[idx] as HTMLElement);\n            }\n        } else {\n            for (let idx = 0; idx < root.children.length; idx++) {\n                stack.push(root.children[idx] as HTMLElement);\n            }\n        }\n        let mode = 0;\n        if (!start) {\n            mode = 1;\n        }\n        while (stack.length > 0) {\n            const current = stack.pop() as HTMLElement;\n            if (mode === 0 && current === start) {\n                mode = 1;\n            } else if (mode === 1 && current.getAttribute('role') === 'menuitem' && current.getAttribute('aria-disabled') !== 'true') {\n                return current;\n            }\n            if (current.getAttribute('role') !== 'menu') {\n                if (direction === 'next') {\n                    for (let idx = current.children.length - 1; idx >= 0; idx--) {\n                        stack.push(current.children[idx] as HTMLElement);\n                    }\n                } else {\n                    for (let idx = 0; idx < current.children.length; idx++) {\n                        stack.push(current.children[idx] as HTMLElement);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n","var render, staticRenderFns\nimport script from \"./AriaMenubar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AriaMenubar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenubar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenubar.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\nimport AriaMenubar from '@/components/AriaMenubar.vue';\nimport { JSONAPIObject } from './store/index';\n\n@Component({\n    components: {\n        AriaMenubar\n    },\n})\nexport default class App extends Vue {\n    public get branch(): JSONAPIObject | null {\n        if (this.$store.state.data.branches && this.$store.state.data.branches[this.$route.params.bid]) {\n            return this.$store.state.data.branches[this.$route.params.bid];\n        } else {\n            return null;\n        }\n    }\n\n    public get file(): string | null {\n        if (this.$store.state.data.files && this.$store.state.data.files[this.$route.params.fid]) {\n            return this.$store.state.data.files[this.$route.params.fid];\n        } else {\n            return null;\n        }\n    }\n\n    public logOut(): void {\n        this.$store.commit('setUserId', '');\n        this.$store.commit('setUserToken', '');\n        this.$store.commit('setLoggedIn', false);\n        this.$router.push({name: 'login'});\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=39fd9398&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[(_vm.addBranch)?_c('aria-dialog',[_c('div',{attrs:{\"role\":\"dialog\",\"aria-modal\":\"true\"}},[_c('form',{staticClass:\"flex vertical\",on:{\"submit\":_vm.createBranch}},[_c('div',[_c('h2',[_vm._v(\"Add a Task\")]),_c('label',[_vm._v(\"Task Name \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newBranchName),expression:\"newBranchName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newBranchName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newBranchName=$event.target.value}}})])]),_c('div',{staticClass:\"shrink text-right\"},[_c('a',{attrs:{\"tabindex\":\"0\"},on:{\"click\":_vm.toggleAddBranch}},[_vm._v(\"Don't add\")]),_c('button',{staticClass:\"button margin-left\",attrs:{\"tabindex\":\"0\"}},[_vm._v(\"Add a Task\")])])])])]):_vm._e(),(_vm.addingBranch)?_c('aria-dialog',[_c('div',{attrs:{\"role\":\"dialog\",\"aria-modal\":\"true\"}},[_c('div',[_c('h2',[_vm._v(\"Adding a Task\")]),_c('p',[_vm._v(\"The new task is being created. This might take a few minutes.\")])])])]):_vm._e(),_c('div',{staticClass:\"width-limited\"},[_c('div',{staticClass:\"flex\"},[_c('h1',[_vm._v(\"Edition Tasks\")]),_c('a',{staticClass:\"shrink with-icon\",on:{\"click\":_vm.toggleAddBranch}},[_c('svg',{staticClass:\"icon small\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z\"}})]),_c('span',[_vm._v(\"Add a Task\")])])]),(_vm.branches.length === 0)?_c('p',[_vm._v(\"There are currently no active tasks. \"),_c('a',{on:{\"click\":_vm.toggleAddBranch}},[_vm._v(\"Add a Task\")]),_vm._v(\".\")]):_vm._e(),_c('dl',{staticClass:\"detail-list\"},[_vm._l((_vm.branches),function(branch){return [_c('dt',{key:branch.id + '-dt',staticClass:\"flex\"},[(branch.attributes.status === 'active')?_c('router-link',{attrs:{\"to\":'/branches/' + branch.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar href = ref.href;\nvar navigate = ref.navigate;\nreturn [_c('h2',[_c('a',{attrs:{\"href\":href},on:{\"click\":navigate}},[_vm._v(_vm._s(branch.attributes.name))])])]}}],null,true)}):_c('h2',[_vm._v(_vm._s(branch.attributes.name))]),_c('div',{staticClass:\"shrink align-middle\"},[(branch.attributes.status === 'active')?_c('a',{on:{\"click\":function($event){return _vm.deleteBranch(branch)}}},[_c('svg',{staticClass:\"icon alert\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"}})])]):(branch.attributes.status === 'merged')?_c('span',{attrs:{\"title\":\"This task has been integrated\"}},[_c('svg',{staticClass:\"icon success\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M6,3A3,3 0 0,1 9,6C9,7.31 8.17,8.42 7,8.83V15.17C8.17,15.58 9,16.69 9,18A3,3 0 0,1 6,21A3,3 0 0,1 3,18C3,16.69 3.83,15.58 5,15.17V8.83C3.83,8.42 3,7.31 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5M6,17A1,1 0 0,0 5,18A1,1 0 0,0 6,19A1,1 0 0,0 7,18A1,1 0 0,0 6,17M21,18A3,3 0 0,1 18,21A3,3 0 0,1 15,18C15,16.69 15.83,15.58 17,15.17V7H15V10.25L10.75,6L15,1.75V5H17A2,2 0 0,1 19,7V15.17C20.17,15.58 21,16.69 21,18M18,17A1,1 0 0,0 17,18A1,1 0 0,0 18,19A1,1 0 0,0 19,18A1,1 0 0,0 18,17Z\"}})])]):(branch.attributes.status === 'deleted')?_c('span',{attrs:{\"title\":\"This task has been deleted\"}},[_c('svg',{staticClass:\"icon warning\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M6,3A3,3 0 0,1 9,6C9,7.31 8.17,8.42 7,8.83V15.17C8.17,15.58 9,16.69 9,18A3,3 0 0,1 6,21A3,3 0 0,1 3,18C3,16.69 3.83,15.58 5,15.17V8.83C3.83,8.42 3,7.31 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5M6,17A1,1 0 0,0 5,18A1,1 0 0,0 6,19A1,1 0 0,0 7,18A1,1 0 0,0 6,17M21,18A3,3 0 0,1 18,21A3,3 0 0,1 15,18C15,16.69 15.83,15.58 17,15.17V7H15V10.25L10.75,6L15,1.75V5H17A2,2 0 0,1 19,7V15.17C20.17,15.58 21,16.69 21,18M18,17A1,1 0 0,0 17,18A1,1 0 0,0 18,19A1,1 0 0,0 19,18A1,1 0 0,0 18,17Z\"}})])]):_vm._e()])],1),_c('dd',{key:branch.id + '-dd'},[_c('span',[_vm._v(\"Started at: \"+_vm._s(_vm.fancyDate(branch.attributes.created)))]),(branch.attributes.updated)?_c('span',[[_vm._v(\"Last Change: \"+_vm._s(_vm.fancyDate(branch.attributes.updated)))]],2):(branch.attributes.merged)?_c('span',[[_vm._v(\"Integrated: \"+_vm._s(_vm.fancyDate(branch.attributes.merged)))]],2):(branch.attributes.deleted)?_c('span',[[_vm._v(\"Deleted: \"+_vm._s(_vm.fancyDate(branch.attributes.deleted)))]],2):_c('span'),_c('span',[(branch.attributes.authors && branch.attributes.authors.length > 0)?[_vm._v(\"Edited By: \"+_vm._s(branch.attributes.authors.join(', ')))]:_vm._e()],2)])]})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { VNode } from 'vue';\nimport { Component, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class AriaDialog extends Vue {\n    public render(): void | VNode[] {\n        if (this.$scopedSlots.default) {\n            return this.$scopedSlots.default({});\n        }\n    }\n}\n","var render, staticRenderFns\nimport script from \"./AriaDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./AriaDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaDialog.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\nimport AriaDialog from '@/components/AriaDialog.vue';\nimport { JSONAPIObject } from '../../../../../experiment-support-system/src/js/apps/shared/data-store/src';\n\n@Component({\n    components: {\n        AriaDialog,\n    }\n})\nexport default class EditionOverview extends Vue {\n    private intervalId = -1;\n    public addBranch = false;\n    public addingBranch = false;\n    public newBranchName = '';\n\n    public get branches() {\n        if (this.$store.state.data.branches) {\n            const branches = Object.values(this.$store.state.data.branches) as JSONAPIObject[];\n            branches.sort((a, b) => {\n                let dateA;\n                let dateB;\n                if (a.attributes.updated) {\n                    dateA = new Date(a.attributes.updated as string);\n                } else if (a.attributes.merged) {\n                    dateA = new Date(a.attributes.merged as string);\n                } else if (a.attributes.deleted) {\n                    dateA = new Date(a.attributes.deleted as string);\n                } else if (a.attributes.created) {\n                    dateA = new Date(a.attributes.created as string);\n                }\n                if (b.attributes.updated) {\n                    dateB = new Date(b.attributes.updated as string);\n                } else if (b.attributes.merged) {\n                    dateB = new Date(b.attributes.merged as string);\n                } else if (b.attributes.deleted) {\n                    dateB = new Date(b.attributes.deleted as string);\n                } else if (b.attributes.created) {\n                    dateB = new Date(b.attributes.created as string);\n                }\n                if (dateA && dateB) {\n                    if (dateA > dateB) {\n                        return -1;\n                    } else if (dateA < dateB) {\n                        return 1;\n                    }\n                }\n                if (a.attributes.title < b.attributes.title) {\n                    return -1;\n                } else if (a.attributes.title > b.attributes.title) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            });\n            return branches;\n        } else {\n            return [];\n        }\n    }\n\n    public mounted() {\n        this.intervalId = window.setInterval(async () => {\n            await this.$store.dispatch('backgroundFetchAll', 'branches');\n        }, 60000);\n    }\n\n    public beforeDestroy() {\n        window.clearInterval(this.intervalId);\n    }\n\n    public toggleAddBranch(ev: Event): void {\n        ev.preventDefault();\n        this.addBranch = !this.addBranch;\n    }\n\n    public async createBranch(ev: Event): Promise<void> {\n        ev.preventDefault();\n        try {\n            this.addBranch = false;\n            this.addingBranch = true;\n            const branch = await this.$store.dispatch('createBranch', {\n                type: 'branches',\n                attributes: {\n                    name: this.newBranchName,\n                }\n            });\n            this.addingBranch = true;\n            this.$router.push({name: 'branch', params: {bid: branch.id}});\n        } catch(error) {\n            alert('Unfortunately something went wrong creating a new task');\n            this.addingBranch = false;\n        }\n    }\n\n    public async deleteBranch(branch: JSONAPIObject): Promise<void> {\n        if (confirm('Deleting this task (' + branch.attributes.name + ') will also delete any changes that have been made there and that have not been integrated into the default copy.\\n\\nThis cannot be undone.\\n\\nPlease confirm you wish to proceed.')) {\n            this.$store.dispatch('deleteBranch', branch);\n        }\n    }\n\n    public fancyDate(timestamp: string) {\n        const date = new Date(timestamp);\n        const parts = [];\n        if (date.getDate() < 10) {\n            parts.push('0');\n        }\n        parts.push(date.getDate());\n        parts.push('.');\n        if (date.getMonth() < 10) {\n            parts.push('0');\n        }\n        parts.push(date.getMonth());\n        parts.push('.');\n        parts.push(date.getFullYear());\n        parts.push(' at ');\n        if (date.getHours() < 10) {\n            parts.push('0');\n        }\n        parts.push(date.getHours());\n        parts.push(':');\n        if (date.getMinutes() < 10) {\n            parts.push('0');\n        }\n        parts.push(date.getMinutes());\n        return parts.join('');\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditionOverview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditionOverview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditionOverview.vue?vue&type=template&id=5d1e9e12&\"\nimport script from \"./EditionOverview.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditionOverview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login width-limited margin-top\"},[_c('h1',[_vm._v(\"Sign in\")]),_c('form',{staticClass:\"flex\",on:{\"submit\":_vm.login}},[_c('label',[_vm._v(\"E-Mail Address \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),(_vm.errors.email)?_c('span',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.errors.email))]):_vm._e()]),_c('label',[_vm._v(\"Password \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),(_vm.errors.password)?_c('span',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.errors.email))]):_vm._e()]),_c('span',{staticClass:\"align-end shrink\"},[_c('button',{staticClass:\"button\"},[_vm._v(\"Sign in\")]),(_vm.errors.email || _vm.errors.password)?_c('span',{staticClass:\"error-msg empty\"}):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export interface NestedStorage {\n    [x: string]: null | string | number | boolean | NestedStorage | string[];\n}\n\nfunction storeValue(storage: Storage, path: string, value: null | string | number | boolean | NestedStorage | string[]): void {\n    let obj = {} as NestedStorage;\n    const data = storage.getItem('digi_edit:storage');\n    if (data) {\n        obj = JSON.parse(data);\n    }\n    const pathElements = path.split('.');\n    let current = obj;\n    for (let idx = 0; idx < pathElements.length; idx++) {\n        const element = pathElements[idx];\n        if (idx === pathElements.length - 1) {\n            current[element] = value;\n        } else {\n            if (!current[element]) {\n                current[element] = {};\n            }\n            current = current[element] as NestedStorage;\n        }\n    }\n    storage.setItem('digi_edit:storage', JSON.stringify(obj));\n}\n\nfunction loadValue(storage: Storage, path: string, defaultValue: null | string | number | boolean | NestedStorage | string[]): null | string | number | boolean | NestedStorage | string[] {\n    const data = storage.getItem('digi_edit:storage');\n    if (data) {\n        const obj = JSON.parse(data) as NestedStorage;\n        const pathElements = path.split('.');\n        let current = obj;\n        for (let idx = 0; idx < pathElements.length; idx++) {\n            const element = pathElements[idx];\n            if (idx === pathElements.length - 1) {\n                if (current[element] !== undefined) {\n                    return current[element];\n                } else {\n                    return defaultValue;\n                }\n            } else {\n                if (current[element]) {\n                    current = current[element] as NestedStorage;\n                } else {\n                    return defaultValue;\n                }\n            }\n        }\n    }\n    return defaultValue;\n}\n\nfunction deleteValue(storage: Storage, path: string): void {\n    let obj = {} as NestedStorage;\n    const data = storage.getItem('digi_edit:storage');\n    if (data) {\n        obj = JSON.parse(data);\n    }\n    const pathElements = path.split('.');\n    let current = obj;\n    for (let idx = 0; idx < pathElements.length; idx++) {\n        const element = pathElements[idx];\n        if (idx === pathElements.length - 1) {\n            delete current[element];\n        } else {\n            if (!current[element]) {\n                break;\n            }\n            current = current[element] as NestedStorage;\n        }\n    }\n    storage.setItem('digi_edit:storage', JSON.stringify(obj));\n}\n\nexport function sessionStoreValue(path: string, value: null | string | number | boolean | NestedStorage | string[]): void {\n    storeValue(sessionStorage, path, value);\n}\n\nexport function sessionLoadValue(path: string, defaultValue: null | string | number | boolean | NestedStorage | string[]): null | string | number | boolean | NestedStorage | string[] {\n    return loadValue(sessionStorage, path, defaultValue);\n}\n\nexport function sessionDeleteValue(path: string): void {\n    return deleteValue(sessionStorage, path);\n}\n\nexport function localStoreValue(path: string, value: null | string | number | boolean | NestedStorage | string[]): void {\n    storeValue(localStorage, path, value);\n}\n\nexport function localLoadValue(path: string, defaultValue: null | string | number | boolean | NestedStorage | string[]): null | string | number | boolean | NestedStorage | string[] {\n    return loadValue(localStorage, path, defaultValue);\n}\n\nexport function localDeleteValue(path: string): void {\n    return deleteValue(localStorage, path);\n}\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios, { AxiosError } from 'axios';\nimport router from '../router/index';\nimport equal from 'fast-deep-equal';\n\nimport { sessionLoadValue, sessionStoreValue} from '../storage';\n\ninterface State {\n    config: Config;\n    data: DataState;\n    userId: string;\n    userToken: string;\n    loggedIn: boolean;\n    busy: boolean;\n    busyCounter: number;\n    maxBusyCounter: number;\n    completedBusyCounter: number;\n}\n\ninterface Config {\n    api: APIConfig;\n    'tei-schema'?: any;\n}\n\ninterface APIConfig {\n    baseURL: string;\n    configURL: string;\n}\n\ninterface ConfigSectionPayload {\n    type: 'tei-schema';\n    data: any;\n}\n\ninterface DataState {\n    [x: string]: {[y: string]: JSONAPIObject};\n}\n\nexport interface JSONAPIObject {\n    type: string;\n    id?: string;\n    attributes: JSONAPIAttributes;\n    relationships: JSONAPIRelationships;\n}\n\nexport interface JSONAPIAttributes {\n    [x: string]: string | null;\n}\n\nexport interface JSONAPIRelationships {\n    [x: string]: JSONAPIRelationship;\n}\n\nexport interface JSONAPIRelationship {\n    data: JSONAPIReference | JSONAPIReference[];\n}\n\ninterface JSONAPIReference {\n    type: string;\n    id: string;\n}\n\nexport interface JSONAPIError {\n    title: string;\n    source: JSONAPIErrorSource;\n}\n\nexport interface JSONAPIErrorSource {\n    pointer: string;\n}\n\ninterface LoginData {\n    email: string;\n    password: string;\n}\n\nexport interface ErrorDict {\n    [x: string]: string;\n}\n\nexport function errorsToDict(errors: AxiosError): ErrorDict {\n    if (errors.response) {\n        return errors.response.data.errors.reduce((obj: ErrorDict, error: JSONAPIError) => {\n            const pointer = error.source.pointer.split('/');\n            obj[pointer[pointer.length - 1]] = error.title;\n            return obj;\n        }, {});\n    } else {\n        return {};\n    }\n}\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        config: {\n            api: {\n                baseURL: '',\n                configURL: '',\n            },\n        },\n        data: {},\n        userId: '',\n        userToken: '',\n        loggedIn: false,\n        busy: false,\n        busyCounter: 0,\n        maxBusyCounter: 0,\n        completedBusyCounter: 0,\n    } as State,\n    mutations: {\n        setConfig(state, config: Config) {\n            state.config = config;\n        },\n\n        setConfigSection(state, payload: ConfigSectionPayload) {\n            Vue.set(state.config, payload.type, payload.data);\n        },\n\n        setUserId(state, userId) {\n            state.userId = userId;\n            sessionStoreValue('user.id', userId);\n        },\n\n        setUserToken(state, userToken) {\n            state.userToken = userToken;\n            sessionStoreValue('user.token', userToken);\n        },\n\n        setLoggedIn(state, loggedIn) {\n            state.loggedIn = loggedIn;\n            sessionStoreValue('user.loggedIn', loggedIn);\n        },\n\n        setObject(state, obj) {\n            if (state.data[obj.type]) {\n                if (state.data[obj.type][obj.id]) {\n                    if (!equal(obj, state.data[obj.type][obj.id])) {\n                        Vue.set(state.data[obj.type], obj.id, obj);\n                    }\n                } else {\n                    Vue.set(state.data[obj.type], obj.id, obj);\n                }\n            } else {\n                Vue.set(state.data, obj.type, {[obj.id]: obj});\n            }\n        },\n\n        deleteObject(state, obj) {\n            if (state.data[obj.type]) {\n                Vue.delete(state.data[obj.type], obj.id);\n            }\n        },\n\n        setBusy(state, busy) {\n            if (busy) {\n                state.busyCounter = state.busyCounter + 1;\n                state.maxBusyCounter = state.maxBusyCounter + 1;\n            } else {\n                state.busyCounter = state.busyCounter - 1;\n                state.completedBusyCounter = state.completedBusyCounter + 1;\n            }\n            if (state.busyCounter === 0) {\n                setTimeout(() => {\n                    state.busy = false;\n                    state.maxBusyCounter = 0;\n                    state.completedBusyCounter = 0;\n                }, 300);\n            } else {\n                state.busy = true;\n            }\n        },\n    },\n    actions: {\n        async init({ dispatch, commit, state }) {\n            commit('setUserId', sessionLoadValue('user.id', ''));\n            commit('setUserToken', sessionLoadValue('user.token', ''));\n            commit('setLoggedIn', sessionLoadValue('user.loggedIn', ''));\n            dispatch('loadConfig', 'tei-schema')\n            if (state.loggedIn && state.userId !== '' && state.userToken !== '') {\n                await dispatch('loadUser');\n                await dispatch('loadBranches');\n            } else {\n                router.push({name: 'login'});\n            }\n        },\n\n        async loadConfig({ commit, state }, type: string) {\n            try {\n                commit('setBusy', true);\n                const response = await axios.get(state.config.api.configURL + '/tei-schema');\n                commit('setConfigSection', {type: type, data: response.data});\n                commit('setBusy', false);\n            } catch(error) {\n                commit('setBusy', false);\n            }\n        },\n\n        async loadUser({ dispatch, state }) {\n            await dispatch('fetchSingle', {type: 'users', id: state.userId})\n        },\n\n        async loadBranches({ dispatch }) {\n            const branches = await dispatch('fetchAll', 'branches');\n            return branches;\n        },\n\n        async createBranch({ dispatch }, branch: JSONAPIObject) {\n            branch = await dispatch('createSingle', branch);\n            const promises = (branch.relationships.files.data as JSONAPIReference[]).map((fileRef) => {\n                return dispatch('loadFile', fileRef);\n            });\n            await Promise.all(promises);\n            return branch;\n        },\n\n        async loadBranch({ dispatch, state }, branch: JSONAPIObject) {\n            if (state.data.branches && branch.id && state.data.branches[branch.id]) {\n                branch = await dispatch('backgroundFetchSingle', branch);\n                const promises = (branch.relationships.files.data as JSONAPIReference[]).map((fileRef) => {\n                    return dispatch('loadFile', fileRef);\n                });\n                await Promise.all(promises);\n                return branch;\n            } else {\n                branch = await dispatch('fetchSingle', branch);\n                const promises = (branch.relationships.files.data as JSONAPIReference[]).map((fileRef) => {\n                    return dispatch('loadFile', fileRef);\n                });\n                await Promise.all(promises);\n                return branch;\n            }\n        },\n\n        async deleteBranch({ dispatch, commit }, branch: JSONAPIObject) {\n            await dispatch('deleteSingle', branch);\n            (branch.relationships.files.data as JSONAPIReference[]).forEach((fileRef) => {\n                commit('deleteObject', fileRef);\n            });\n        },\n\n        async loadFile({ dispatch, state }, fileRef: JSONAPIReference | JSONAPIObject) {\n            if (state.data.files && fileRef.id && state.data.files[fileRef.id]) {\n                return await dispatch('backgroundFetchSingle', fileRef);\n            } else {\n                return await dispatch('fetchSingle', fileRef);\n            }\n        },\n\n        async fetchAll({ commit, state }, type: string) {\n            try {\n                commit('setBusy', true);\n                const objs = (await axios({\n                    method: 'GET',\n                    url: state.config.api.baseURL + '/' + type,\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                })).data;\n                (objs as {data: JSONAPIObject[]}).data.forEach((obj) => {\n                    commit('setObject', obj);\n                });\n                commit('setBusy', false);\n                return objs.data;\n            } catch(error) {\n                commit('setBusy', false);\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async backgroundFetchAll({ commit, state }, type: string) {\n            try {\n                const objs = (await axios({\n                    method: 'GET',\n                    url: state.config.api.baseURL + '/' + type,\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                })).data;\n                (objs as {data: JSONAPIObject[]}).data.forEach((obj) => {\n                    commit('setObject', obj);\n                });\n                return objs.data;\n            } catch(error) {\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async fetchSingle({ commit, state }, ref) {\n            try {\n                commit('setBusy', true);\n                const obj = (await axios({\n                    method: 'GET',\n                    url: state.config.api.baseURL + '/' + ref.type + '/' + ref.id,\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                })).data.data;\n                commit('setObject', obj);\n                commit('setBusy', false);\n                return obj;\n            } catch(error) {\n                commit('setBusy', false);\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async backgroundFetchSingle({ commit, state }, ref) {\n            try {\n                const obj = (await axios({\n                    method: 'GET',\n                    url: state.config.api.baseURL + '/' + ref.type + '/' + ref.id,\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                })).data.data;\n                commit('setObject', obj);\n                return obj;\n            } catch(error) {\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async createSingle({ commit, state }, obj: JSONAPIObject) {\n            try {\n                commit('setBusy', true);\n                obj = (await axios({\n                    method: 'POST',\n                    url: state.config.api.baseURL + '/' + obj.type,\n                    data: {\n                        data: obj,\n                    },\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                })).data.data;\n                commit('setObject', obj);\n                commit('setBusy', false);\n                return obj;\n            } catch(error) {\n                commit('setBusy', false);\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async saveSingle({commit, state }, obj: JSONAPIObject) {\n            try {\n                commit('setBusy', true);\n                obj = (await axios({\n                    method: 'PATCH',\n                    url: state.config.api.baseURL + '/' + obj.type + '/' + obj.id,\n                    data: {\n                        data: obj,\n                    },\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                })).data.data;\n                commit('setObject', obj);\n                commit('setBusy', false);\n                return obj;\n            } catch(error) {\n                commit('setBusy', false);\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async deleteSingle({ commit, state }, obj: JSONAPIObject) {\n            try {\n                commit('setBusy', true);\n                const response = await axios({\n                    method: 'DELETE',\n                    url: state.config.api.baseURL + '/' + obj.type + '/' + obj.id,\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                });\n                if (response.status === 200) {\n                    commit('setObject', response.data.data);\n                } else {\n                    commit('deleteObject', obj);\n                }\n                commit('setBusy', false);\n            } catch(error) {\n                commit('setBusy', false);\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n\n        async login({ dispatch, commit, state }, loginData: LoginData) {\n            try {\n                commit('setBusy', true);\n                const user = await axios({\n                    method: 'POST',\n                    url: state.config.api.baseURL + '/login',\n                    data: {\n                        data: {\n                            type: 'users',\n                            attributes: loginData,\n                        },\n                    },\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken}\n                });\n                commit('setUserId', user.data.id);\n                commit('setUserToken', user.data.attributes.token);\n                commit('setLoggedIn', true);\n                await dispatch('init');\n                router.push({name: 'root'});\n                commit('setBusy', false);\n            } catch(error) {\n                commit('setBusy', false);\n                throw error;\n            }\n        },\n\n        async action({ commit, state }, payload: {obj: JSONAPIObject; action: string}) {\n            try {\n                commit('setBusy', true);\n                const obj = (await axios({\n                    method: 'POST',\n                    url: state.config.api.baseURL + '/' + payload.obj.type + '/' + payload.obj.id,\n                    headers: {'X-Authorization': state.userId + ' ' + state.userToken,\n                              'X-Action': payload.action}\n                })).data.data;\n                commit('setObject', obj);\n                commit('setBusy', false);\n                return obj;\n            } catch(error) {\n                commit('setBusy', false);\n                if (error.response.status === 401) {\n                    commit('setUserId', '');\n                    commit('setUserToken', '');\n                    commit('setLoggedIn', '');\n                    router.push({name: 'login'});\n                } else {\n                    throw error;\n                }\n            }\n        },\n    },\n    modules: {\n    }\n})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\nimport { errorsToDict, ErrorDict } from '../store/index';\n\n@Component\nexport default class Login extends Vue {\n    public email = '';\n    public password = '';\n    public errors = {} as ErrorDict;\n\n    public async login(ev: Event) {\n        ev.preventDefault();\n        try {\n            this.errors = {};\n            await this.$store.dispatch('login', {\n                email: this.email,\n                password: this.password,\n            });\n        } catch(errors) {\n            this.errors = errorsToDict(errors);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=c6522b3c&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isCurrentRoute)?_c('div',{staticClass:\"branch-overview\"},[(_vm.branch)?_c('div',{staticClass:\"width-limited\"},[_c('div',{staticClass:\"flex margin-bottom\"},[_c('h1',[_vm._v(_vm._s(_vm.branch.attributes.name))]),_c('form',{staticClass:\"shrink flex file-filter\",on:{\"submit\":function($event){return $event.preventDefault();}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fileFilter),expression:\"fileFilter\"}],attrs:{\"type\":\"search\"},domProps:{\"value\":(_vm.fileFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fileFilter=$event.target.value}}}),_c('svg',{staticClass:\"icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\"}})])])]),(_vm.branch.attributes.status === 'active')?_c('div',{staticClass:\"flex\"},[_c('dl',{staticClass:\"detail-list flex-75\"},[_vm._l((_vm.fileSets),function(fileSet,idx){return [_c('dt',{key:idx + '-dt'},[_c('h2',[_vm._v(_vm._s(fileSet.id))])]),_c('dd',{key:idx + '-dd'},[_c('ul',{staticClass:\"no-bullet\"},_vm._l((fileSet.files),function(file){return _c('li',{key:file.id},[_c('router-link',{attrs:{\"to\":'/branches/' + _vm.branch.id + '/files/' + file.id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar href = ref.href;\nvar navigate = ref.navigate;\nreturn [_c('a',{attrs:{\"href\":href},on:{\"click\":navigate}},[_vm._v(_vm._s(file.attributes.name))])]}}],null,true)})],1)}),0)])]})],2),_c('div',{staticClass:\"flex-25 padding-left\"},[_c('ul',{staticClass:\"no-bullet margin-bottom\"},[(_vm.branch.attributes.updates)?_c('li',{staticClass:\"margin-bottom\"},[_c('a',{staticClass:\"button outline full-width text-center\",on:{\"click\":_vm.rebase}},[_c('svg',{staticClass:\"icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M7,3A3,3 0 0,1 10,6C10,7.29 9.19,8.39 8.04,8.81C8.58,13.81 13.08,14.77 15.19,14.96C15.61,13.81 16.71,13 18,13A3,3 0 0,1 21,16A3,3 0 0,1 18,19C16.69,19 15.57,18.16 15.16,17C10.91,16.8 9.44,15.19 8,13.39V15.17C9.17,15.58 10,16.69 10,18A3,3 0 0,1 7,21A3,3 0 0,1 4,18C4,16.69 4.83,15.58 6,15.17V8.83C4.83,8.42 4,7.31 4,6A3,3 0 0,1 7,3M7,5A1,1 0 0,0 6,6A1,1 0 0,0 7,7A1,1 0 0,0 8,6A1,1 0 0,0 7,5M7,17A1,1 0 0,0 6,18A1,1 0 0,0 7,19A1,1 0 0,0 8,18A1,1 0 0,0 7,17M18,15A1,1 0 0,0 17,16A1,1 0 0,0 18,17A1,1 0 0,0 19,16A1,1 0 0,0 18,15Z\"}})]),_vm._v(\" Update \")])]):_vm._e(),_c('li',{staticClass:\"margin-bottom\"},[(_vm.branch.attributes.pull_request && _vm.branch.attributes.pull_request.state === 'open')?_c('a',{staticClass:\"button outline full-width text-center\",on:{\"click\":_vm.cancelIntegration}},[_c('svg',{staticClass:\"icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M6,3A3,3 0 0,1 9,6C9,7.31 8.17,8.42 7,8.83V15.17C8.17,15.58 9,16.69 9,18A3,3 0 0,1 6,21A3,3 0 0,1 3,18C3,16.69 3.83,15.58 5,15.17V8.83C3.83,8.42 3,7.31 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5M6,17A1,1 0 0,0 5,18A1,1 0 0,0 6,19A1,1 0 0,0 7,18A1,1 0 0,0 6,17M21,18A3,3 0 0,1 18,21A3,3 0 0,1 15,18C15,16.69 15.83,15.58 17,15.17V7H15V10.25L10.75,6L15,1.75V5H17A2,2 0 0,1 19,7V15.17C20.17,15.58 21,16.69 21,18M18,17A1,1 0 0,0 17,18A1,1 0 0,0 18,19A1,1 0 0,0 19,18A1,1 0 0,0 18,17Z\"}})]),_vm._v(\" Cancel integration \")]):_c('a',{staticClass:\"button outline full-width text-center\",on:{\"click\":_vm.requestIntegration}},[_c('svg',{staticClass:\"icon\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M6,3A3,3 0 0,1 9,6C9,7.31 8.17,8.42 7,8.83V15.17C8.17,15.58 9,16.69 9,18A3,3 0 0,1 6,21A3,3 0 0,1 3,18C3,16.69 3.83,15.58 5,15.17V8.83C3.83,8.42 3,7.31 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5M6,17A1,1 0 0,0 5,18A1,1 0 0,0 6,19A1,1 0 0,0 7,18A1,1 0 0,0 6,17M21,18A3,3 0 0,1 18,21A3,3 0 0,1 15,18C15,16.69 15.83,15.58 17,15.17V7H15V10.25L10.75,6L15,1.75V5H17A2,2 0 0,1 19,7V15.17C20.17,15.58 21,16.69 21,18M18,17A1,1 0 0,0 17,18A1,1 0 0,0 18,19A1,1 0 0,0 19,18A1,1 0 0,0 18,17Z\"}})]),_vm._v(\" Request integration \")])]),_c('li',{staticClass:\"margin-bottom\"},[_c('a',{staticClass:\"button outline full-width text-center\",on:{\"click\":_vm.rescan}},[_c('svg',{staticClass:\"icon alert\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\"}})]),_vm._v(\" Add File \")])]),_c('li',{staticClass:\"margin-bottom\"},[_c('a',{staticClass:\"button outline full-width text-center\",on:{\"click\":_vm.deleteBranch}},[_c('svg',{staticClass:\"icon alert\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"}})]),_vm._v(\" Delete \")])])]),(_vm.branch.attributes.pull_request && _vm.branch.attributes.pull_request.state == 'open')?[_c('h3',{staticClass:\"no-margin\"},[_vm._v(\"Integration reviews\")]),_c('dl',{staticClass:\"margin-bottom\"},[_vm._l((_vm.branch.attributes.pull_request.reviews),function(review,idx){return [_c('dt',{key:idx + '-dt',staticClass:\"flex\"},[_c('span',[_vm._v(_vm._s(review.user))]),(review.state === 'APPROVED')?_c('svg',{staticClass:\"shrink icon success\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}})]):_c('svg',{staticClass:\"shrink icon warning\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"}})])]),_c('dd',{key:idx + '-dd',staticClass:\"no-margin margin-bottom\"},[_vm._v(_vm._s(review.body))])]}),(_vm.branch.attributes.updates)?[_c('dt',{staticClass:\"flex\"},[_c('span',[_vm._v(\"Automatic Reviews\")]),_c('svg',{staticClass:\"shrink icon warning\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\"}})])]),_c('dd',{staticClass:\"no-margin margin-bottom\"},[_vm._v(\"This task needs to be updated before the integration can proceed\")])]:_vm._e()],2)]:_vm._e(),(_vm.branch.attributes.changes)?[_c('h3',{staticClass:\"no-margin\"},[_vm._v(\"Changed Files (\"+_vm._s(_vm.branch.attributes.changes.length)+\")\")]),_c('ul',{staticClass:\"no-bullet\"},_vm._l((_vm.branch.attributes.changes),function(filename){return _c('li',{key:filename,attrs:{\"title\":filename}},[_vm._v(_vm._s(filename))])}),0)]:_vm._e()],2)]):(_vm.branch.attributes.status === 'merged')?_c('div',[_c('p',[_vm._v(\"This task has been integrated into the primary copy.\")])]):(_vm.branch.attributes.status === 'deleted')?_c('div',[_c('p',[_vm._v(\"This task has been deleted.\")])]):_vm._e()]):_vm._e()]):_c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\nimport { JSONAPIObject } from '../store/index';\n\ninterface FileSet {\n    id: string;\n    files: JSONAPIObject[];\n}\n\n@Component\nexport default class BranchOverview extends Vue {\n    private intervalId = -1;\n    private fileFilterDebounce = -1;\n    public fileFilterValue = '';\n\n    public get fileFilter() {\n        return this.fileFilterValue;\n    }\n\n    public set fileFilter(value) {\n        window.clearTimeout(this.fileFilterDebounce);\n        this.fileFilterDebounce = window.setTimeout(() => {\n            this.fileFilterValue = value;\n        }, 300);\n    }\n\n    public get branch(): JSONAPIObject | null {\n        if (this.$store.state.data.branches && this.$store.state.data.branches[this.$route.params.bid]) {\n            return this.$store.state.data.branches[this.$route.params.bid];\n        } else {\n            return null;\n        }\n    }\n\n    public get fileSets(): FileSet[] {\n        if (this.$store.state.busy) {\n            return [{id: 'Loading...', files: []}];\n        } else if (this.branch && this.$store.state.data.files) {\n            const fileSets = [] as FileSet[];\n            let fileSet = null as FileSet | null;\n            if (this.branch.relationships.files) {\n                (this.branch.relationships.files.data as JSONAPIObject[]).forEach((fileRef) => {\n                    if (fileRef.id && this.$store.state.data.files[fileRef.id]) {\n                        const file = this.$store.state.data.files[fileRef.id];\n                        if (this.fileFilter === '' || file.attributes.filename.indexOf(this.fileFilter) >= 0) {\n                            if (!fileSet || fileSet.id !== file.attributes.path) {\n                                if (fileSet) {\n                                    fileSets.push(fileSet);\n                                }\n                                fileSet = {\n                                    id: file.attributes.path,\n                                    files: []\n                                }\n                            }\n                            fileSet.files.push(file);\n                        }\n                    }\n                });\n                if (fileSet) {\n                    fileSets.push(fileSet);\n                }\n            }\n            return fileSets;\n        } else {\n            return [];\n        }\n    }\n\n    public get isCurrentRoute() {\n        return this.$route.name === 'branch';\n    }\n\n    public mounted() {\n        this.$store.dispatch('loadBranch', {type: 'branches', id: this.$route.params.bid});\n        this.intervalId = window.setInterval(async () => {\n            if (this.branch) {\n                try {\n                    await this.$store.dispatch('backgroundFetchSingle', this.branch);\n                } catch(error) {\n                    if (error.response.status == 404) {\n                        this.$store.commit('deleteObject', this.branch);\n                        this.$store.dispatch('loadBranches');\n                        this.$router.push({name: 'root'});\n                    }\n                }\n            }\n        }, 10000);\n    }\n\n    public beforeDestroy() {\n        window.clearInterval(this.intervalId);\n    }\n\n    public deleteBranch(ev: Event) {\n        ev.preventDefault();\n        if (this.branch) {\n            if (confirm('Deleting this task (' + this.branch.attributes.name + ') will also delete any changes that have been made there and that have not been integrated into the default copy.\\n\\nThis cannot be undone.\\n\\nPlease confirm you wish to proceed.')) {\n                this.$store.dispatch('deleteBranch', this.branch);\n                this.$router.push({name: 'root'});\n            }\n        }\n    }\n\n    public async requestIntegration(ev: Event) {\n        ev.preventDefault();\n        if (this.branch) {\n            await this.$store.dispatch('action', {'obj': this.branch, 'action': 'request-integration'});\n        }\n    }\n\n    public async cancelIntegration(ev: Event) {\n        ev.preventDefault();\n        if (this.branch) {\n            await this.$store.dispatch('action', {'obj': this.branch, 'action': 'cancel-integration'});\n        }\n    }\n\n    public async rebase(ev: Event) {\n        ev.preventDefault();\n        if (this.branch) {\n            await this.$store.dispatch('action', {'obj': this.branch, 'action': 'rebase'});\n        }\n    }\n\n    public async rescan(ev: Event) {\n        ev.preventDefault();\n        if (this.branch) {\n            await this.$store.dispatch('action', {'obj': this.branch, 'action': 'rescan'});\n            await this.$store.dispatch('loadBranch', this.branch);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BranchOverview.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BranchOverview.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BranchOverview.vue?vue&type=template&id=4973517e&\"\nimport script from \"./BranchOverview.vue?vue&type=script&lang=ts&\"\nexport * from \"./BranchOverview.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.file)?_c('div',{staticClass:\"editor\"},[(_vm.fileData && _vm.fileData.attributes.mode === 'text')?_c('text-editor',{attrs:{\"text\":_vm.fileData.attributes.rawData},on:{\"save\":_vm.save}}):_vm._e(),(_vm.config && _vm.fileData && _vm.fileData.attributes.mode === 'tei')?_c('tei-editor',{attrs:{\"config\":_vm.config,\"autoLoadCallback\":_vm.loadFileDataCallback},on:{\"save\":_vm.save}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-editor flex vertical\"},[_c('nav',{staticClass:\"shrink\"},[_c('ul',{attrs:{\"role\":\"menubar\"}},[_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])])])]),_c('div',{ref:\"editorElement\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\nimport { EditorState } from \"@codemirror/next/state\";\nimport { EditorView, keymap } from \"@codemirror/next/view\";\nimport { defaultKeymap } from \"@codemirror/next/commands\";\n\n@Component\nexport default class FileEditor extends Vue {\n    @Prop() text!: string;\n    public editorView = null as null | EditorView;\n\n    public mounted(): void {\n        this.loadEditor();\n    }\n\n    public save(ev: Event): void {\n        ev.preventDefault();\n        if (this.editorView) {\n            this.$emit('save', this.editorView.state.doc.toString());\n        }\n    }\n\n    private loadEditor(): void {\n        if (!this.editorView && this.$refs.editorElement) {\n            const startState = EditorState.create({\n                doc: \"\",\n                extensions: [keymap(defaultKeymap)]\n            });\n\n            this.editorView = new EditorView({\n                state: startState,\n                parent: this.$refs.editorElement as Element,\n            });\n        }\n        if (this.editorView && this.text) {\n            const loadState = EditorState.create({\n                doc: this.text,\n                extensions: [keymap(defaultKeymap)]\n            });\n            this.editorView.setState(loadState);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=18a8ce71&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport deepcopy from 'deepcopy';\nimport axios from 'axios';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport { TeiEditor } from 'tei-editor';\n\nimport { JSONAPIObject } from '../store/index';\nimport TextEditor from '../components/TextEditor.vue';\n\n@Component({\n    components: {\n        TextEditor,\n        TeiEditor,\n    }\n})\nexport default class FileEditor extends Vue {\n    public fileData = null as JSONAPIObject | null;\n\n    public get file(): JSONAPIObject | null {\n        if (this.$store.state.data.files && this.$store.state.data.files[this.$route.params.fid]) {\n            return this.$store.state.data.files[this.$route.params.fid];\n        } else {\n            return null;\n        }\n    }\n\n    public get config(): any | null {\n        if (this.$store.state.config['tei-schema']) {\n            return this.$store.state.config['tei-schema'];\n        } else {\n            return null;\n        }\n    }\n\n    public mounted(): void {\n        this.$store.commit('setBusy', true);\n        axios({\n            method: 'GET',\n            url: this.$store.state.config.api.baseURL + '/files/' + this.$route.params.fid,\n            headers: {\n                'X-Authorization': this.$store.state.userId + ' ' + this.$store.state.userToken,\n                'X-Include-Data': true\n            },\n        }).then((response) => {\n            this.fileData = response.data.data;\n            this.$store.commit('setBusy', false);\n        }, (error) => {\n            this.$store.commit('setBusy', false);\n            if (error.response.status === 401) {\n                this.$store.commit('setUserId', '');\n                this.$store.commit('setUserToken', '');\n                this.$store.commit('setLoggedIn', '');\n                this.$router.push({name: 'login'});\n            }\n        })\n    }\n\n    public async save(text: string): Promise<void> {\n        try {\n            const data = deepcopy(this.fileData);\n            data.attributes.rawData = text;\n            this.$store.commit('setBusy', true);\n            await axios({\n                method: 'PATCH',\n                url: this.$store.state.config.api.baseURL + '/files/' + this.$route.params.fid,\n                headers: {\n                    'X-Authorization': this.$store.state.userId + ' ' + this.$store.state.userToken,\n                    'X-Include-Data': true\n                },\n                data: {data: data}\n            });\n            this.$store.commit('setBusy', false);\n        } catch(error) {\n            this.$store.commit('setBusy', false);\n            if (error.response.status === 401) {\n                this.$store.commit('setUserId', '');\n                this.$store.commit('setUserToken', '');\n                this.$store.commit('setLoggedIn', '');\n                this.$router.push({name: 'login'});\n            }\n        }\n    }\n\n    public loadFileDataCallback(callback: (data: string) => void) {\n        if (this.fileData && this.fileData.attributes.rawData) {\n            callback(this.fileData.attributes.rawData);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileEditor.vue?vue&type=template&id=9eba53de&\"\nimport script from \"./FileEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter, { RouteConfig } from 'vue-router';\nimport EditionOverview from '@/views/EditionOverview.vue';\nimport Login from '@/views/Login.vue';\nimport BranchOverview from '@/views/BranchOverview.vue';\nimport FileEditor from '@/views/FileEditor.vue';\n\nVue.use(VueRouter);\n\nconst routes: Array<RouteConfig> = [\n    {\n        path: '/',\n        name: 'root',\n        component: EditionOverview,\n    },\n    {\n        path: '/login',\n        name: 'login',\n        component: Login,\n    },\n    {\n        path: '/branches/:bid',\n        name: 'branch',\n        component: BranchOverview,\n        children: [\n            {\n                path: 'files/:fid',\n                name: 'file',\n                component: FileEditor,\n            }\n        ]\n    }\n]\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes,\n});\n\nexport default router;\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nconst configElement = document.querySelector('#DigiEditConfig');\nif (configElement) {\n    const config = JSON.parse(configElement.innerHTML);\n    store.commit('setConfig', config);\n    store.dispatch('init');\n}\n\nnew Vue({\n    router,\n    store,\n    render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}